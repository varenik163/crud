{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///external \"antd\"","webpack:///external \"redux-saga/effects\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"react-redux\"","webpack:///external \"redux-form\"","webpack:///external \"moment\"","webpack:///external \"sm-redux-saga-request\"","webpack:///external \"draft-js\"","webpack:///external \"react-router-dom\"","webpack:///external \"sm-string-helper\"","webpack:///external \"moment/locale/ru\"","webpack:///external \"connected-react-router\"","webpack:///external \"styled-components\"","webpack:///external \"draftjs-to-html\"","webpack:///external \"react-draft-wysiwyg\"","webpack:///external \"redux\"","webpack:///external \"@babel/polyfill\"","webpack:///external \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\"","webpack:///./src/redux/actions.js","webpack:///./src/components/crud/filterDropdown.js","webpack:///./src/components/crud/filterRenderer.js","webpack:///./src/components/crud/action.js","webpack:///./src/components/tables/helperCells.js","webpack:///./src/components/crud/dataRenderer.js","webpack:///./src/components/crud/loader.js","webpack:///./src/components/crud/crudView.js","webpack:///./src/components/custom/Editor/index.js","webpack:///./src/components/crud/uploaderFilePreview.js","webpack:///./src/components/custom/Uploader/uploadDdecorator.js","webpack:///./src/components/custom/Uploader/index.js","webpack:///./src/components/crud/uploader.js","webpack:///./src/helpers/renderField.js","webpack:///./src/components/crud/createModel.js","webpack:///./src/components/crud/createModelView.js","webpack:///./src/components/crud/showModelView.js","webpack:///./src/components/crud/crudFull.js","webpack:///./src/constants.js","webpack:///./src/redux/reducer.js","webpack:///./src/notification.js","webpack:///./src/helpers/reduceMessages.js","webpack:///./src/redux/saga.js","webpack:///./src/redux/requestSaga.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","actions","FETCH_CRUD_FILTER_VALUES","FETCH_CRUD_MODELS","SET_CRUD_ACTIONS_FUNC","SET_CRUD_PARAMS","DELETE_MODEL","RESTORE_MODEL","CHANGE_MODEL","CREATE_MODEL","TOGGLE_CREATE_MODEL_MODAL","SET_MODEL_MODAL_FORM","FETCH_CRUD_CHILDREN","SET_UPLOADER_FILES","SET_UPLOADER_DEFAULT_FILE_LIST","FETCH_FILE_CONFIG","fetchFileConfig","url","modelName","type","payload","setUploaderDefaultFileList","defaultFileList","setUploaderFiles","files","fetchCrudChildren","id","params","toggleCreateModelModal","deleteModel","action","restoreModel","createModel","form","changeModel","setModelModalForm","modalType","initialValues","setCrudActionsFunc","func","setCrudParams","fetchCrudModels","filters","fetchCrudFilterValues","filter","query","Option","Select","options","setSelectedKeys","selectedKeys","confirm","clearFilters","className","onChange","e","target","checked","toString","onPressEnter","placeholder","style","width","marginRight","showSearch","filterOption","search","option","props","children","toLowerCase","indexOf","onSearch","map","opt","onClick","setTimeout","text","Array","moment","locale","format","filterRenderer","filterType","columnName","filterDropdown","ActionStyled","styled","span","Action","iconsProvider","ev","data","row","preventDefault","actionsFunc","method","push","this","title","href","handleClick","getIcon","icon","Component","propTypes","PropTypes","isRequired","string","iconTheme","defaultProps","connect","state","crudActionsFunc","crudParams","TextCell","ArrayCell","values","delimiter","isHtml","dateFormat","viewLimit","isArray","length","handledValues","index","Date","now","dangerouslySetInnerHTML","__html","unix","renderer","ArrayCellLimit","useState","showAll","setShowAll","slice","column","alias","ActionsCell","elem","obj","created_at","updated_at","rest","restValues","restAttributes","el","Number","link","to","actionView","find","color","html","Loader","fontSize","spin","display","alignItems","justifyContent","crudActions","viewWidth","Math","min","window","innerWidth","screen","isNotMiddleSizeWindow","CrudView","pagination","sorter","page","current","order_by","columnKey","order","isExpanded","getChildrenUrl","col","filterValues","can","items","tableStyle","TableWrapper","fixActionColumn","size","tdClass","scrollX","pageSize","rowSelection","bordered","loading","listItems","has_child","columns","fixed","render","dataRenderer","getFilterValues","filterIcon","filtered","theme","TableComponent","Table","dataSource","handleTableChange","defaultCurrent","limit","total","count","hideOnSinglePage","scroll","x","onExpand","handleExpand","rowClassName","record","bool","number","crudModels","crudFilterValues","DraftEditor","editorState","setState","input","draftToHtml","convertToRaw","getCurrentContent","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","createEmpty","defaultContentState","initialEditorState","defaultEditorState","wrapperClassName","onEditorStateChange","editorClassName","toolbar","inline","list","localization","initialValue","layoutStyle","position","top","left","height","background","zIndex","imgStyle","maxWidth","maxHeight","closeIconStyle","right","UploaderFilePreview","preview","setPreview","console","log","file","uid","URL","createObjectURL","src","UploadDecorator","UploaderComponent","newFileList","fileListStored","f","config","listType","multiple","buttonText","undefined","uploaderProps","onRemove","handleFileRemove","accept","mimeTypes","beforeUpload","isMax","maxFiles","maxSize","message","error","onPreview","fileList","old","lastModified","lastModifiedDate","webkitRelativePath","array","compose","uploaderFiles","uploaderModelFiles","defaultFileListStored","Uploader","CrudUploader","useEffect","crudCreate","isOpenModelModal","fileConfig","SelectOption","Search","Input","renderField","label","max","step","meta","touched","warning","validating","rows","layout","defaultValue","addonAfter","enterButton","dropdownRender","uploaderParams","Item","hasFeedback","validateStatus","help","optionFilterProp","disabled","TextArea","component","Editor","CreateModalForm","onClose","onCreate","fields","mapFields","optionsKey","titleEdit","crudCreateModalLoading","visible","onCancel","handleCancel","cancelText","confirmLoading","onOk","handleSubmit","okText","onSubmit","oneOfType","uploadFileUrl","reduxForm","validate","errors","forEach","field","validateFunc","reduce","acc","CreateViewForm","Title","Typography","align","justify","ghost","level","textAlign","htmlType","marginLeft","CrudFull","customActionsFunc","openUpdateFrom","openViewFrom","handleDelete","handleRestore","toggleModal","objectModal","onDeleteConfirmMessageFunc","crudRead","submitShape","uploadFilesSettings","isModalOpen","createButtonTitle","createFormOptions","createDisabled","btnStyle","tableWrapper","updateShape","ButtonComponent","initialModal","isView","CustomButtons","Btn","Button","handleClose","handleUpdate","handleCreate","marginBottom","node","shape","modelModalForm","SUCCESS_REQ","SORT_DESC","SORT_ASC","START","SUCCESS","ERROR","FAIL","response","model","createNotification","description","notification","reduceMessages","messages","parseNameFunc","targetField","notifySaga","fetchCrudModelsSaga","fetchCrudModelsSuccessSaga","fetchCrudFilterValuesSaga","filesUpload","getHandledFiles","createModelSaga","updateModelsSaga","deleteModelSaga","restoreModelSaga","changeModelSaga","fetchCrudChildrenSaga","closeModalSaga","submitModelsModalFormFailSaga","fetchFileConfigSaga","rootSaga","selectCrudParams","status","getFiltersValues","keys","isDateColumn","constructor","selectColumns","passedUrl","select","buildUrlSearch","paramsArr","buildUrlSearchForArray","paramsStr","put","request","auth","filesStore","result","modelFiles","formData","FormData","append","fetch","headers","Authorization","token","body","filesResp","json","res","uploadedFiles","stopSubmit","all","takeEvery","fork","requestMiddleware","requestSaga","requests","getError","oldType","token_is_active","X","SITE","matches","document","cookie","match","RegExp","replace","decodeURIComponent","JSON","stringify","Headers","set","reducer","crudReducers","saga","crudSagas","updateModel","crudView","crudFull","crudUploader"],"mappings":"2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,QAAQ,U,cCAzBjC,EAAOD,QAAUkC,QAAQ,e,cCAzBjC,EAAOD,QAAUkC,QAAQ,S,cCAzBjC,EAAOD,QAAUkC,QAAQ,uB,cCAzBjC,EAAOD,QAAUkC,QAAQ,wB,cCAzBjC,EAAOD,QAAUkC,QAAQ,gB,cCAzBjC,EAAOD,QAAUkC,QAAQ,e,cCAzBjC,EAAOD,QAAUkC,QAAQ,W,cCAzBjC,EAAOD,QAAUkC,QAAQ,0B,cCAzBjC,EAAOD,QAAUkC,QAAQ,a,cCAzBjC,EAAOD,QAAUkC,QAAQ,qB,cCAzBjC,EAAOD,QAAUkC,QAAQ,qB,cCAzBjC,EAAOD,QAAUkC,QAAQ,qB,gCCAzBjC,EAAOD,QAAUkC,QAAQ,2B,cCAzBjC,EAAOD,QAAUkC,QAAQ,sB,cCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,wB,cCAzBjC,EAAOD,QAAUkC,QAAQ,U,qDCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,qD,+ECAnBC,EAAU,CACfC,yBAA0B,2BAC1BC,kBAAmB,oBACnBC,sBAAuB,wBACvBC,gBAAiB,kBAEjBC,aAAc,eACdC,cAAe,gBACfC,aAAc,eACdC,aAAc,eACdC,0BAA2B,4BAC3BC,qBAAsB,uBACtBC,oBAAqB,sBACrBC,mBAAoB,qBACpBC,+BAAgC,iCAChCC,kBAAmB,oBACnBC,gBAAiB,SAACC,EAAKC,GAAN,MAAqB,CAAEC,KAAMlB,EAAQc,kBAAmBK,QAAS,CAAEH,MAAKC,eACzFG,2BAA4B,SAACC,EAAiBJ,GAAlB,MAAiC,CAC5DC,KAAMlB,EAAQa,+BACdM,QAAS,CAAEE,kBAAiBJ,eAE7BK,iBAAkB,SAACC,EAAON,GAAR,MAAuB,CAAEC,KAAMlB,EAAQY,mBAAoBO,QAAS,CAAEI,QAAON,eAC/FO,kBAAmB,SAACC,EAAIR,EAAWD,GAAhB,MAAyB,CAC3CE,KAAMlB,EAAQW,oBACdQ,QAAS,CAAEM,KAAIC,OAAQ,CAAET,aAAaD,SAEvCW,uBAAwB,SAAAV,GAAS,MAAK,CAAEC,KAAMlB,EAAQS,0BAA2BU,QAAS,CAAEF,eAE5FW,YAAa,SAACH,EAAII,EAAQZ,GAAb,MAA4B,CACxCC,KAAMlB,EAAQK,aACdc,QAAS,CACRM,KAAII,SAAQZ,eAGda,aAAc,SAACL,EAAIT,EAAKC,GAAV,MAAyB,CACtCC,KAAMlB,EAAQM,cACda,QAAS,CACRM,KAAIT,MAAKC,eAGXc,YAAa,SAACC,EAAMhB,EAAKC,GAAZ,MAA2B,CACvCC,KAAMlB,EAAQQ,aACdW,QAAS,CACRa,OAAMhB,MAAKC,eAIbgB,YAAa,SAACD,EAAMH,EAAQZ,GAAf,MAA8B,CAC1CC,KAAMlB,EAAQO,aACdY,QAAS,CACRa,OAAMH,SAAQZ,eAIhBiB,kBAAmB,SAACC,EAAWC,EAAeP,GAA3B,MAAuC,CACzDX,KAAMlB,EAAQU,qBACdS,QAAS,CACRgB,YAAWC,gBAAeP,YAI5BQ,mBAAoB,SAACC,EAAMrB,GAAP,MAAsB,CAAEC,KAAMlB,EAAQG,sBAAuBgB,QAAS,CAAEmB,OAAMrB,eAClGsB,cAAe,SAAAb,GAAM,MAAK,CAAER,KAAMlB,EAAQI,gBAAiBe,QAASO,IACpEc,gBAAiB,SAACd,EAAQe,GAAT,MAAsB,CAAEvB,KAAMlB,EAAQE,kBAAmBiB,QAAS,CAAEO,SAAQe,aAC7FC,sBAAuB,SAACzB,EAAW0B,EAAQC,GAApB,MAA+B,CACrD1B,KAAMlB,EAAQC,yBACdkB,QAAS,CACRyB,QAAOD,SAAQ1B,gBAKHjB,I,uBCnEP6C,G,MAAWC,SAAXD,QAEO,WAACvE,EAAM4C,EAAM6B,GAAb,OAAyB,gBAAGC,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,aAAcC,EAAlC,EAAkCA,QAASC,EAA3C,EAA2CA,aAA3C,OACvC,yBACCC,UAAU,0BAEA,aAATlC,EACA,8BACC,kBAAC,WAAD,CACClC,MAAOiE,EACPI,SAAU,SAAAC,GAAC,OAAIN,EAAgBM,EAAEC,OAAOC,QAAQC,aAChDC,aAAc,WAAQR,OAEvB,8BAGU,WAAThC,EACD,kBAAC,SAAD,CACClC,MAAOiE,EACPU,YAAY,UACZN,SAAU,SAACC,GAAQN,EAAgBM,GAAIJ,KACvCQ,aAAc,WAAQR,KACtBU,MAAO,CAAEC,MAAO,QAASC,YAAa,OACtCC,YAAU,EACVC,aAAc,SAACC,EAAQC,GAAT,OACbA,EAAOC,MAAMC,SAASC,cAAcC,QAAQL,EAAOI,gBAAkB,GAEtEE,SAAU,cAETxB,EAAQyB,KAAI,SAAAC,GAAG,OACf,kBAAC5B,EAAD,CACC7D,MAAOyF,EAAIzF,MACLM,IAAKmF,EAAIzF,MACT0F,QAAS,SAACpB,GACTN,EAAgByB,EAAIzF,OAAQ2F,YAAW,kBAAMzB,MAAW,OAG9DuB,EAAIG,UAKG,SAAT1D,EACD,kBAAC,aAAD,CACClC,OAAOiE,GAAkBA,aAAwB4B,MAE9C,KADAC,IAAO7B,EAAc,cAAc8B,OAAO,MAG7C1B,SAAU,SAAArE,GAAK,OAAIgE,EAAgBhE,IACnC0E,aAAc,WAAQR,KACtBS,YAAY,gBACZqB,OAAQ,aACRpB,MAAO,CAAEE,YAAa,SAItB,kBAAC,QAAD,CACC5C,KAAMA,EACNyC,YAAY,QACZ3E,MAAOiE,EACPI,SAAU,SAAAC,GAAC,OAAIN,EAAgBM,EAAEC,OAAOvE,MAAQsE,EAAEC,OAAOvE,MAAQ,OACjE0E,aAAc,WAAQR,OAI3B,kBAAC,SAAD,CAAQhC,KAAK,UAAUwD,QAAS,WAAQxB,MAAxC,SACA,kBAAC,SAAD,CAAQwB,QAAS,WAAQvB,MAAzB,eCpEa,SAAS8B,EAAeC,EAAYC,EAAYpC,GAE9D,OAAQmC,GACR,IAAK,eACJ,OAAOE,EAAeD,EAAY,UACnC,IAAK,aACJ,OAAOC,EAAeD,EAAY,QACnC,IAAK,cACJ,OAAOC,EAAeD,EAAY,QACnC,IAAK,aACJ,OAAOC,EAAeD,EAAY,SAAUpC,GAC7C,IAAK,UACJ,OAAOqC,EAAeD,EAAY,YACnC,QACC,OAAO,M,6lCCTT,IAAME,E,OAAeC,EAAOC,KAAV,KAOZC,E,gVAEQ,SAAC/D,GACV,OAAQA,GACJ,IAAK,SACD,MAAO,OACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,cACX,IAAK,UACD,MAAO,SACX,IAAK,YACL,IAAK,OACD,MAAO,MACX,IAAK,QACD,MAAO,OACX,IAAK,OACD,MAAO,QACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,eACX,IAAK,OACD,MAAO,OACd,IAAK,WACJ,MAAO,WACL,QACI,OAAO,EAAK0C,MAAMzC,OAAO+D,cAAchE,O,sBAIrC,SAACiE,GAAO,MACC,EAAKvB,MAAnBwB,EADa,EACbA,KAAMC,EADO,EACPA,IAEd,OAAQD,EAAKzE,MACb,IAAK,QACJwE,EAAGG,iBACH,EAAK1B,MAAM2B,YAAYH,EAAMC,GAC7B,MACD,IAAK,OACJ,GAAoB,WAAhBD,EAAKI,OAAqB,OAAO,KACrCL,EAAGG,iBACH,EAAK1B,MAAM6B,KAAKL,EAAK3E,KACrB,MACD,IAAK,WACL,QACC,OAAO,S,kSAIA,MACciF,KAAK9B,MAAnBwB,EADA,EACAA,KAER,OAHQ,EACMC,IAGb,kBAACP,EAAD,KACC,uBAAGa,MAAOP,EAAKrH,KAAM6H,KAAMR,EAAK3E,IAAKuC,OAAO,SAASH,UAAU,cAAcsB,QAASuB,KAAKG,aAC1F,kBAAC,OAAD,CAAMlF,KAAM+E,KAAKI,QAAQV,EAAKlE,KAAOkE,EAAKW,c,8BAzD1BC,aAgErBf,EAAOgB,UAAY,CAClBb,KAAMc,IAAUhH,OAAOiH,WACvBd,IAAKa,IAAUhH,OAAOiH,WACtBzF,UAAWwF,IAAUE,OACrBC,UAAWH,IAAUE,OACrBlB,cAAegB,IAAUnE,MAG1BkD,EAAOqB,aAAe,CAAED,UAAW,YAEpBE,yBAAQ,SAACC,EAAO5C,GAAR,MAAmB,CACzC2B,YAAaiB,EAAMC,gBAAgB7C,EAAMlD,WACzCS,OAAQqF,EAAME,WAAW9C,EAAMlD,cAC5B,CACH+E,aAJcc,CAKZtB,G,02BCxFH,IACM0B,EAAW,SAAAtC,GAAI,OAAI,8BAAOA,IAyC1BuC,EAAY,SAAC,GAAsE,IAApEC,EAAoE,EAApEA,OAAQlG,EAA4D,EAA5DA,KAAMmG,EAAsD,EAAtDA,UAAWzD,EAA2C,EAA3CA,MAAO0D,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,UACxE,IAAK3C,MAAM4C,QAAQL,KAAYA,EAAOM,OAAQ,OAAO,KAErD,IAAMC,EAAgBP,EAAO5C,KAAI,SAACxF,EAAO4I,GAAR,OAChC,0BAAMhE,MAAO0D,GAAU1D,EAAQA,EAAQ,KAAMtE,IAAKsI,EAAQC,KAAKC,OAC7DR,EAAS,0BAAMS,wBAAyB,CAAEC,OAAQhJ,KAAc,IAC/DsI,GAhBY,SAACtI,EAAOkC,EAAMqG,GAC9B,OAAQrG,GACR,IAAK,OACJ,OAAO4D,IAAOmD,KAAKjJ,GAAOgG,OAAOuC,GAAc,cAChD,IAAK,YACJ,OAAOJ,EAAUnI,GAClB,QACC,OAAOA,GASMkJ,CAASlJ,EAAOkC,EAAMqG,GACjCK,EAASR,EAAOM,OAAS,GAAML,MAIlC,OAAO,kBAAC,EAAD,CAAgBD,OAAQO,EAAeH,UAAWA,KAGpDW,EAAiB,SAAChE,GAAU,QACHiE,oBAAUjE,EAAMqD,WADb,GAC1Ba,EAD0B,KACjBC,EADiB,KAGjC,OAAOD,EAAUlE,EAAMiD,OACtB,6BACEjD,EAAMiD,OAAOmB,MAAM,EAAGpE,EAAMqD,WAC3Bc,EAAa,uBAAG5D,QAAS,kBAAM4D,GAAW,KAA7B,OAA8C,O,QCtDjD,WAAC1C,EAAK4C,EAAQvH,EAAW2F,GACvC,GAAuB,IAAnBhB,EAAI4C,EAAO/G,MAAcmE,EAAI4C,EAAO/G,MAA0B,IAAnBmE,EAAI4C,EAAO/G,IAAe,OAAO,KAChF,OAAQ+G,EAAOtH,MACf,IAAK,SACJ,OAAOgG,EAAStB,EAAI4C,EAAO/G,IAAIgH,OAAS7C,EAAI4C,EAAO/G,IAAInD,MACxD,IAAK,UACJ,ODHkB,SAACsH,EAAK3E,EAAW2F,GAAjB,OAA+BhB,EAAI5F,QAAQwE,KAAI,SAAA3C,GAAM,OACxE,kBAAC,EAAD,CAAQ8D,KAAM9D,EAAQ+D,IAAKA,EAAKtG,IAAKuC,EAAOJ,GAAIR,UAAWA,EAAW2F,UAAWA,OCEzE8B,CAAY9C,EAAK3E,EAAW2F,GACpC,IAAK,QACJ,OAAmBhB,EAAI4C,EAAO/G,IDPD+C,KAAI,SAAAmE,GAAI,OAAI,2BAAIA,MCQ9C,IAAK,YACJ,OAAOxB,EAAUvB,EAAI4C,EAAO/G,KAC7B,IAAK,gBACD,ODNkBmH,ECMGhD,EAAI4C,EAAO/G,IDL/BoD,MAAM4C,QAAQmB,IAASA,EAAIlB,OACzBkB,EAAIpE,KAAI,YAAyD,QAAtDqE,kBAAsD,aAAlCC,kBAAkC,SAAXC,EAAW,iCACjEC,IAAaD,GAAOtK,OAAO2I,OAAO2B,GAClCE,EAAiBD,EACpBA,EAAWxE,KAAI,SAAC0E,EAAInL,GAAL,OAAW,0BAAMuB,IAAKvB,GAAImL,MAAc,GAC1D,OACC,kBAAC,WAAD,KACC,2BACEL,EAAa/D,IAAOmD,KAAKY,GACxB7D,OAAO,cAAgB,GAF1B,IAE+B8D,EAAahE,IAAOmD,KAAKa,GACrD9D,OAAO,cAAgB,GAH1B,IAG+BiE,GAE/B,iCAZ4C,KCM/C,IAAK,OACJ,ODtBetD,ECsB0B,IAAzBwD,OAAOvD,EAAI4C,EAAO/G,KDtBX,2BAAIqD,IAAOa,GAAMX,OAAO,eCuBhD,IAAK,OACJ,IAAMoE,EAAOxD,EAAI4C,EAAO/G,IACxB,GAAI2H,EAAKpI,KAAOoI,EAAK9K,KAAM,OAC1B,kBAAC,OAAD,CAAM+K,GAAID,EAAKpI,KACboI,EAAK9K,MAGR,IAAMgL,EAAa1D,EAAI5F,QAAQuJ,MAAK,SAAAjG,GAAC,MAAa,SAATA,EAAE7B,MAC3C,OAAO6H,GAAcA,EAAWtI,IAE9B,kBAAC,OAAD,CAAMqI,GAAIC,EAAWtI,KACnB4E,EAAI4C,EAAO/G,KAEZyF,EAAStB,EAAI4C,EAAO/G,KACxB,IAAK,UACJ,ODpCkBzC,ECoCC4G,EAAI4C,EAAO/G,IDnC/B,8BACEzC,EACE,kBAAC,OAAD,CAAMkC,KAAK,QAAQ0C,MAAO,CAAE4F,MAAO,WACnC,kBAAC,OAAD,CAAMtI,KAAK,QAAQ0C,MAAO,CAAE4F,MAAO,UCiCvC,IAAK,OACJ,OD9BeC,EC8BC7D,EAAI4C,EAAO/G,ID9BJ,0BAAMsG,wBAAyB,CAAEC,OAAQyB,KC+BjE,QACC,OAAOvC,EAAStB,EAAI4C,EAAO/G,KDhCZ,IAAAgI,EARGzK,EAFH2G,EAcMiD,GERRc,GATC,kBAAC,OAAD,CAAMxI,KAAK,UAAU0C,MAAO,CAAE+F,SAAU,IAAMC,MAAI,IACnD,kBACd,yBAAKhG,MAAO,CAAEiG,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUlG,MAAO,SACrF,kBAAC,OAAD,S,84CCGMrB,EAAsDwH,EAAtDxH,gBAAiBhB,EAAqCwI,EAArCxI,kBAAmBe,EAAkByH,EAAlBzH,cACtC0H,EAAYC,KAAKC,IAAIC,OAAOC,WAAYC,OAAOzG,OAC/C0G,EAAwBN,EAAY,MAAQA,EAAY,IAExDO,E,0VAUe,SAACC,EAAYhI,EAASiI,GACzC,EAAKvG,MAAM3B,gBAAgB,CAC1BvB,UAAW,EAAKkD,MAAMlD,UACtBD,IAAK,EAAKmD,MAAMnD,IAChB2J,KAAMF,EAAWG,QACjBC,SAAUH,EAAOI,UACjBC,MAAOL,EAAOK,OACZtI,GAEH,EAAK0B,MAAM5B,cAAX,KACI,EAAK4B,MAAM8C,WAAW,EAAK9C,MAAMlD,WADrC,CAEC0J,KAAMF,EAAWG,QACjBC,SAAUH,EAAOI,UACjBC,MAAOL,EAAOK,MACdtI,gB,uBAIa,SAACuI,EAAYpF,GAEvBoF,GACH,EAAK7G,MAAM3C,kBAAkBoE,EAAInE,GAAI,EAAK0C,MAAMlD,UAAW,EAAKkD,MAAM8G,eAAerF,EAAInE,Q,0BAIzE,SAACyJ,GAAQ,IAClBC,EAAiB,EAAKhH,MAAtBgH,aAER,OAAOA,GAAgBD,EAAIvI,OAAOyI,KAAOD,EAAaD,EAAIzJ,IACzD0J,EAAaD,EAAIzJ,IAAI+C,KAAI,SAAAmE,GAAI,MAAK,CACjC/D,KAAM+D,EAAKrK,KACXU,MAAO2J,EAAKlH,OAEX,M,6SAzCgB,MACQwE,KAAK9B,MAAxBlD,EADW,EACXA,UAAWD,EADA,EACAA,IACnBiF,KAAK9B,MAAM3B,gBAAgB,CAC1BvB,YACAD,U,+BAwCO,aAcJiF,KAAK9B,MAZRkH,EAFO,EAEPA,MACApK,EAHO,EAGPA,UACAqK,EAJO,EAIPA,WACAC,EALO,EAKPA,aACAC,EANO,EAMPA,gBACA5E,EAPO,EAOPA,UACA6E,EARO,EAQPA,KACAC,EATO,EASPA,QACAC,EAVO,EAUPA,QACAC,EAXO,EAWPA,SACAC,EAZO,EAYPA,aACAC,EAbO,EAaPA,SAGD,GAAIT,IAAUA,EAAM1F,MAAQ0F,EAAMU,QAAS,OAAO,kBAAC,EAAD,MAClD,IAAKV,IAAUA,EAAM1F,KAAM,OAAO,KAElC,IAAMqG,EAAYX,EAAM1F,KAAK0F,MAAM7G,KAAI,SAAAmE,GAAI,YACvCA,EADuC,CAE1CrJ,IAAKqJ,EAAKlH,GACV2C,SAAUuE,EAAKsD,UAAYtD,EAAKvE,UAAY,GAAK,UAI5C8H,EAAUb,EAAM1F,KAAKuG,QAAQ1H,KAAI,SAAA0G,GAAG,MAAK,CAC9C9H,UAAW,qBAAuBsI,EAAU,IAAMA,EAAU,IAC5DxF,MAAOgF,EAAIhF,MACX5G,IAAK4L,EAAIzJ,GACT0K,MAAkB,YAAXjB,EAAIzJ,KAAqB8I,GAAyBiB,EAAkB,QAAU,KACrF3H,MAAkB,YAAXqH,EAAIzJ,KAAqB8I,GAAyBiB,EAAkB,IAAM,OACjFY,OAAQ,SAAA3M,GAAM,OAAI4M,EAAa5M,EAAQyL,EAAKjK,EAAW2F,IACvDnE,QAAS,EAAK6J,gBAAgBpB,GAC9BqB,WAAYrB,EAAIvI,OAAOyI,IACpB,SAAAoB,GAAQ,OACT,kBAAC,OAAD,CACCtL,KAAK,SACL0C,MAAO,CAAE4F,MAAOgD,EAAW,UAAY,QACvCC,MAAM,cAEN,KACHrH,eAAgB8F,EAAIvI,OAAOyI,IACxBnG,EAAeiG,EAAIvI,OAAOzB,KAAMgK,EAAIzJ,GAAI,EAAK6K,gBAAgBpB,IAC7D,KACHR,OAAQQ,EAAIH,MAAMK,IAAM,aACpB,SAGCsB,EAAiBnB,GAAgBoB,QAEvC,OACC,kBAACD,EAAD,CACCR,QAASA,EACTU,WAAYZ,EACZ5I,UAAU,kBACVC,SAAU4C,KAAK4G,kBACfpC,WAAY,CACXqC,eAAgB,EAChBlB,SAAUP,EAAM1F,KAAKhD,OAAOoK,OAASnB,EACrCoB,MAAO3B,EAAM1F,KAAKsH,MAClBC,kBAAkB,GAEnBnB,QAASV,EAAMU,QACfoB,QAAS5C,GAAyBiB,EAAkB,CAAE4B,EAAGzB,GAAY,GACrE0B,SAAUpH,KAAKqH,aACf7B,KAAMA,EACNH,WAAYA,EACZiC,aAAc,SAAAC,GAAM,OAAIA,EAAO5H,IAAM4H,EAAO5H,IAAImB,MAAQ,WACxD8E,aAAcA,EACdC,SAAUA,S,8BApHSvF,aA0HvBiE,EAAShE,UAAY,CACpBvF,UAAWwF,IAAUE,OAAOD,WAC5B1F,IAAKyF,IAAUE,OAAOD,WACtB8E,gBAAiB/E,IAAUgH,KAC3B7G,UAAWH,IAAUE,OACrBsE,eAAgBxE,IAAUnE,KAC1BmJ,KAAMhF,IAAUE,OAChB+E,QAASjF,IAAUE,OACnBgF,QAASlF,IAAUiH,OACnB9B,SAAUnF,IAAUiH,OACpB7B,aAAcpF,IAAUnE,MAGzBkI,EAAS3D,aAAe,CACvB2E,iBAAiB,EACjBG,QAAS,KACTC,SAAU,IAGI9E,yBAAQ,SAACC,EAAO5C,GAAR,MAAmB,CACzCkH,MAAOtE,EAAM4G,WAAWxJ,EAAMlD,WAC9BkK,aAAcpE,EAAM6G,iBAAiBzJ,EAAMlD,WAC3CgG,WAAYF,EAAME,cACf,CACHzE,kBACAhB,oBACAe,iBAPcuE,CAQZ0D,G,8xBC1JGqD,G,YACL,WAAY1J,GAAO,M,UAAA,O,4FAAA,S,EAClB,K,EAAA,gBAAMA,GAAN,G,oDADkB,M,EASG,SAAC2J,GACtB,EAAKC,SAAS,CACbD,gBAED,EAAK3J,MAAM6J,MAAM3K,SAAS4K,KAAYC,uBAAaJ,EAAYK,yB,EAb7C,yB,wFAElB,EAAKpH,MAAQ,CACZ+G,YAAa3J,EAAM6J,OAAS7J,EAAM6J,MAAMhP,MACrCoP,cAAYC,kBAAkBC,eAAaC,qBAAqBC,0BAAgBrK,EAAM6J,MAAMhP,SAC5FoP,cAAYK,eALE,E,iSAgBV,IACAX,EAAgB7H,KAAKc,MAArB+G,YAER,OACC,kBAAC,UAAD,CACCY,oBAAoB,sBACpBC,mBAAmB,qBACnBC,mBAAmB,qBACnBjL,YAAY,QACZmK,YAAaA,EACbe,iBAAiB,eACjBC,oBAAqB7I,KAAK6I,oBAC1BC,gBAAgB,yBAChBC,QAAS,CACRjM,QAAS,CAAC,SAAU,OAAQ,OAAQ,WACpCkM,OAAQ,CACPlM,QAAS,CAAC,OAAQ,WAEnBmM,KAAM,CACLnM,QAAS,CAAC,YAAa,aAIzBoM,aAAc,CACbpK,OAAQ,a,gCAzCawB,aAgD1BsH,GAAYrH,UAAY,CACvBwH,MAAOvH,IAAUhH,OACjB2P,aAAc3I,IAAUhH,QAEVoO,U,SCzDTwB,GAAc,CACnBC,SAAU,QACVC,IAAK,EAAGC,KAAM,EACd3L,MAAO,OACP4L,OAAQ,OACRC,WAAY,OACZ7F,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChB4F,OAAQ,KAGHC,GAAW,CAChBC,SAAU,OACVC,UAAW,QAGNC,GAAiB,CACtBT,SAAU,QACVC,IAAK,OACLS,MAAO,OACPrG,SAAU,QAmBIsG,OAhBf,SAA6B9L,GAAO,IAC3B+L,EAA+B/L,EAA/B+L,QAASC,EAAsBhM,EAAtBgM,WAAY5O,EAAU4C,EAAV5C,MAE7B,IAAK2O,EAAS,OAAO,KACrBE,QAAQC,IAAI9O,EAAO2O,GACnB,IAAMI,EAAO/O,EAAMgI,MAAK,SAAAjG,GAAC,OAAIA,EAAEiN,MAAQL,KACjClP,EAAMsP,EAAKtP,KAAOoJ,OAAOoG,IAAIC,gBAAgBH,GAEnD,OACC,yBAAK1M,MAAOyL,GAAa3K,QAAS,kBAAMyL,EAAW,QAClD,uBAAGvM,MAAOmM,IAAgB,kBAAC,OAAD,CAAM7O,KAAM,WACtC,yBAAKwP,IAAK1P,EAAK4C,MAAOgM,O,8rCC9BjBxO,GAA+BpB,EAA/BoB,2BAEFuP,GAAkB,SAAAC,GAAiB,mBAExC,WAAYzM,GAAO,M,IAAA,O,4FAAA,S,EAClB,K,EAAA,gBAAMA,GAAN,G,kDADkB,uBAMN,SAAC1C,GACb,EAAKsM,SAAS,CAAEmC,QAASzO,OAPP,6BAUA,SAAC6O,GACnB,IAAMO,EAAc,EAAK1M,MAAM2M,eAAenO,QAAO,SAAAoO,GAAC,OAAIA,EAAER,MAAQD,EAAKC,OACzE,EAAKpM,MAAMd,SAASwN,MATpB,EAAK9J,MAAQ,CAAEmJ,QAAS,MAHN,E,UAFqB,O,mOAAA,M,EAAA,G,EAAA,gCAiB/B,WACAc,EAAW/K,KAAK9B,MAAhB6M,OACFC,EAAWhL,KAAK9B,MAAM8M,UAAY,OAClCC,EAAWjL,KAAK9B,MAAM+M,WAAY,EAClCC,EAAalL,KAAK9B,MAAMgN,iBAAcC,EACpClB,EAAYjK,KAAKc,MAAjBmJ,QACAY,EAAmB7K,KAAK9B,MAAxB2M,eAEFO,EAAgB,CACrBC,SAAUrL,KAAKsL,iBACfC,OAAQR,EAAOS,UACfC,aAAc,SAACpB,GACd,IAAMqB,EAAQb,EAAepJ,UAAYsJ,EAAOY,UAAY,KAC5D,GAAItB,EAAK7E,MAAQuF,EAAOa,SAAW,KAElC,OADAC,UAAQC,MAAM,sDACP,EAGR,GAAIb,GAAYS,EAEf,OADAG,UAAQC,MAAM,wEACP,EAGR,IAAMlB,EAAeK,EAElBS,EACCb,EADI,aAEAA,GAFA,CAEgBR,IAHrB,CAACA,GAOJ,OAFA,EAAKnM,MAAMd,SAASwN,IAEb,GAGRmB,UAAW,SAAA1B,GAAI,OAAI,EAAKH,WAAWG,EAAKC,MACxC0B,SAAUnB,EAAetM,KAAI,SAAAuM,GAAC,MAAK,CAClCmB,MAAOnB,EAAEmB,IACTlR,IAAK+P,EAAEmB,IAAMnB,EAAE/P,IAAMoJ,OAAOoG,IAAIC,gBAAgBM,GAChDzS,KAAMyS,EAAEzS,KACRiS,IAAKQ,EAAER,IACP4B,aAAcpB,EAAEoB,aAChBC,iBAAkBrB,EAAEqB,iBACpB3G,KAAMsF,EAAEtF,KACRvK,KAAM6P,EAAE7P,KACRmR,mBAAoBtB,EAAEsB,uBAEvBpB,WACAE,cAGD,OACC,6BACC,kBAACP,EAAsBS,GACvB,kBAAC,GAAD,CACClB,WAAYlK,KAAKkK,WACjBD,QAASA,EACT3O,MAAOuP,U,6BAzE6B,GAA2BvK,cAgFpEoK,GAAgBnK,UAAY,CAC3BnD,SAAUoD,IAAUnE,KAAKoE,WACzBtF,2BAA4BqF,IAAUnE,KAAKoE,WAC3CzF,UAAWwF,IAAUE,OAAOD,WAC5BuK,SAAUxK,IAAUE,OACpBuK,SAAUzK,IAAUgH,KACpBpM,gBAAiBoF,IAAU6L,MAC3BxB,eAAgBrK,IAAU6L,MAAM5L,YAGjC,IAYe6L,sBACdzL,mBAbuB,SAACC,EAAO5C,GAAU,IACjCqO,EAAkBzL,EAAlByL,cACAvR,EAAckD,EAAdlD,UACFwR,EAAqBD,GAAiBA,EAAcvR,GACvDuR,EAAcvR,GAAa,GAE9B,MAAO,CACNyR,sBAAuBD,EAAmBpR,iBAAmB,GAC7DyP,eAAgB2B,EAAmBR,UAAY,MAKvB,CAAE7Q,gCAC3BuP,IC7GD,SAASgC,GAASxO,GACjB,OACC,kBAAC,SAAWA,EACX,kBAAC,SAAD,CAAQjD,KAAM,WACb,kBAAC,OAAD,CAAMA,KAAK,WADZ,IACyBiD,EAAMgN,aAMlCwB,GAASnM,UAAY,CACpB2K,WAAY1K,IAAUE,OACtBsK,SAAUxK,IAAUE,QAGrBgM,GAAS9L,aAAe,CACvBsK,WAAY,UAGER,UAAgBgC,I,qNClBvBrR,GAAkEtB,EAAlEsB,iBAAkBF,GAAgDpB,EAAhDoB,2BAA4BL,GAAoBf,EAApBe,gBAEtD,SAAS6R,GAAazO,GAQrB,OAPA0O,qBAAU,WAIT,OAHA1O,EAAM7C,iBAAiB6C,EAAM9C,gBAAiB8C,EAAMlD,WACpDkD,EAAMpD,gBAAgBoD,EAAM8C,WAAW9C,EAAMlD,WAAW6R,WAAa,UAAW3O,EAAMlD,WAE/E,kBAAMkD,EAAM7C,iBAAiB,GAAI6C,EAAMlD,cAC5C,IACHmP,QAAQC,IAAIlM,EAAM6M,OAAO7M,EAAMlD,YAE9B,kBAAC,GAAD,MACKkD,EADL,CAEC6M,OACC7M,EAAM6M,OAAO7M,EAAMlD,YAAekD,EAAM6M,OAAO7M,EAAMlD,WAAW0E,KAC7DxB,EAAM6M,OAAO7M,EAAMlD,WAAW0E,KAAKpE,MAAMyP,OACzC,GAEJ3N,SAAU,SAAA9B,GAAK,OAAI4C,EAAM7C,iBAAiBC,EAAO4C,EAAMlD,eAK1D2R,GAAapM,UAAY,CACxBlF,iBAAkBmF,IAAUnE,KAAKoE,WACjCzF,UAAWwF,IAAUE,OAAOD,WAC5BtF,2BAA4BqF,IAAUnE,KAAKoE,WAC3CO,WAAYR,IAAUhH,OAAOiH,WAC7B3F,gBAAiB0F,IAAUnE,KAAKoE,WAChCrF,gBAAiBoF,IAAU6L,OAGbxL,0BACd,SAACC,EAAO5C,GAAR,MAAmB,CAClBlD,UAAW8F,EAAMgM,kBAAoB5O,EAAMlD,UAC3CgG,WAAYF,EAAME,WAClB+J,OAAQjK,EAAMiM,cAEf,CACC1R,oBACAF,8BACAL,oBATa+F,CAWb8L,I,qNCvCcK,GAAiBnQ,SAAzBD,OACFqQ,GAASC,QAAMD,OAERE,GAAc,SAAC,GAAD,IAC1BpF,EAD0B,EAC1BA,MACAqF,EAF0B,EAE1BA,MACAnS,EAH0B,EAG1BA,KACA6B,EAJ0B,EAI1BA,QACA7D,EAL0B,EAK1BA,KACAiL,EAN0B,EAM1BA,IACAmJ,EAP0B,EAO1BA,IACAC,EAR0B,EAQ1BA,KAR0B,IAS1BC,KAAQC,EATkB,EASlBA,QAAS1B,EATS,EASTA,MAAO2B,EATE,EASFA,QACxBC,EAV0B,EAU1BA,WACAhQ,EAX0B,EAW1BA,YACAiQ,EAZ0B,EAY1BA,KACAnI,EAb0B,EAa1BA,KACAoI,EAd0B,EAc1BA,OACAnQ,EAf0B,EAe1BA,aACAoQ,EAhB0B,EAgB1BA,aACAC,EAjB0B,EAiB1BA,WACAC,EAlB0B,EAkB1BA,YACAC,EAnB0B,EAmB1BA,eACAC,EApB0B,EAoB1BA,eApB0B,EAqB1BnP,OArB0B,OAsBpB,kBAAC,OAAKoP,KAAN,IACNC,aAAW,GACPP,EAFE,CAGNR,MAAOA,EACPgB,eAAgBtC,GAAS0B,EAAU,QAChCC,GAAWD,EAAU,UACpBE,EAAa,aACZ,GACLW,KAAMb,GAAW1B,EAAQA,EAAQ,KAE/B,WACD,OAAQ7Q,GACR,IAAK,SACJ,OAAQ,kBAAC,SAAD,MACH8M,EADG,CAEPhP,MAAOgP,EAAMhP,OAAS,GACtBE,KAAMA,EACN6E,YAAU,EACVwQ,iBAAiB,WACjBC,WAAUxG,EAAMwG,SAChB5Q,MAAO,CAAEC,MAAO,QAChBF,YAAaA,EACbsQ,eAAgBA,IAEflR,EAAQyB,KAAI,SAAAmE,GAAI,OAAK,kBAACsK,GAAD,CAAcjU,MAAO2J,EAAKlH,GAAInC,IAAKqJ,EAAKlH,IAC5DkH,EAAKrK,UAGT,IAAK,WACJ,OAAQ,kBAAC,QAAMmW,SAAP,MACHzG,EADG,CAEPrK,YAAaA,EACbzC,KAAMA,EACNkC,UAAU,eACVwQ,KAAMA,KAER,IAAK,WACJ,OAAQ,kBAAC,WAAa5F,EACpBrK,GAEH,IAAK,SACJ,OAAQ,kBAACuP,GAAD,IACPxP,aAAcA,GACVsK,EAFG,CAGPhP,MAAOgP,EAAMhP,OAAS8U,EACtBnQ,YAAaA,EACbqQ,YAAaA,KAEf,IAAK,OACJ,OAAQ,kBAAC,aAAD,IACPpQ,MAAO,CAAEC,MAAO,QAChBH,aAAcA,GACVsK,EAHG,CAIPhP,MAAOgP,EAAMhP,MAAQ8F,IAAOkJ,EAAMhP,MAAO,cAAc+F,OAAO,MAAQ,KACtEpB,YAAaA,EAEbqB,OAAO,gBAGT,IAAK,SACJ,OAAO,kBAAC,QAAD,CAAO1G,KAAM0P,EAAM1P,KAAMoW,UAAWC,KAC5C,IAAK,WACJ,OAAO,kBAAC,GAAD,MAAcT,EAAd,CAA8B7S,gBAAiB2M,EAAMhP,SAC7D,QACC,OAAQ,kBAAC,QAAD,IACP0E,aAAcA,GACVsK,EAFG,CAGPhP,MAAOgP,EAAMhP,OAAS8U,EACtBnQ,YAAaA,EACbzC,KAAMA,EACNkC,UAAU,eACV+G,IAAKA,EACLmJ,IAAKA,EACLC,KAAMA,EACN9H,KAAMA,EACNsI,WAAYA,MAjEb,K,yjCCtCGa,G,0VAyBU,WACd,EAAKzQ,MAAM0Q,a,yBAGG,SAAA7S,GACd,EAAKmC,MAAM2Q,SAAS9S,M,sBAGT,e,sBAIA,SAAA+S,GACX,OAAOA,EAAOvQ,KAAI,SAAAL,GAAK,OAAIA,EAAM4Q,OAChC,yBAAKzV,IAAK6E,EAAM7F,MACd,EAAK0W,UAAU7Q,EAAM4Q,SAEpB,kBAAC,QAAD,MACC5Q,EADD,CAEHuQ,UAAWvQ,EAAMuQ,WAAa,EAAKvQ,MAAMiP,YACzC9T,IAAK6E,EAAM7F,KACXyE,QAAS,EAAKoB,MAAMpB,QAAQoB,EAAM8Q,aAAe9Q,EAAMpB,SAAW,Y,gVAI3D,MACgEkD,KAAK9B,MAArEhC,EADA,EACAA,UAAW+D,EADX,EACWA,MAAOgP,EADlB,EACkBA,UAAWH,EAD7B,EAC6BA,OAAQI,EADrC,EACqCA,uBAE7C,OACC,kBAAC,QAAD,CACCjP,MAAqB,SAAd/D,EAAuB+S,EAAYhP,EAC1CkP,SAAO,EACPC,SAAUpP,KAAKqP,aACfC,WAAW,SACXC,eAAgBL,EAChBM,KAAMxP,KAAK9B,MAAMuR,aAAazP,KAAKyP,cACnCC,OAAsB,SAAdxT,EAAuB,YAAc,WAE7C,0BAAMyT,SAAU3P,KAAK9B,MAAMuR,aAAazP,KAAKyP,eAC3CzP,KAAK+O,UAAUD,U,gCAhESxO,a,GAAxBqO,G,YAEc,CAClBzS,UAAWsE,IAAUE,OACrBkO,QAASpO,IAAUnE,KAAKoE,WACxBoO,SAAUrO,IAAUnE,KAAKoE,WACzBR,MAAOO,IAAUE,OACjBuO,UAAWzO,IAAUE,OACrBoO,OAAQtO,IAAU6L,MAAM5L,WACxB0M,YAAa3M,IAAUoP,UAAU,CAChCpP,IAAUnE,KACVmE,IAAUhH,SAEXiW,aAAcjP,IAAUnE,KAAKoE,WAC7BoP,cAAerP,IAAUE,S,GAdrBiO,G,eAiBiB,CACrBxB,iBAqDFwB,GAAkBmB,oBAAU,CAC3B/T,KAAM,cACNgU,SAAU,SAAC5O,EAAQjD,GAClB,IAAI8R,EAAS,GAMb,OAJA9R,EAAM4Q,OAAOmB,SAAQ,SAAAC,GAChBA,EAAMC,eAAcH,EAASE,EAAMC,aAAahP,EAAQ6O,OAGtDA,IATSF,CAYfnB,IAmBYA,OAjBfA,GAAmB9N,mBAAQ,SAACC,EAAO5C,GAClC,IAAMpB,EAAUoB,EAAM4Q,OAAOsB,QAAO,SAACC,EAAKH,GAKzC,OAJIpP,EAAMoP,EAAMlB,cACfqB,EAAIH,EAAMlB,YAAclO,EAAMoP,EAAMlB,YAAYtP,MAG1C2Q,IACL,IAEH,MAAO,CACNnB,uBAAwBpO,EAAMoO,uBAC9BpS,aAEC,GAbgB+D,CAehB8N,I,yjCCpGG2B,G,0VAuBU,kBAAM,EAAKpS,MAAM0Q,a,yBAEjB,SAAA7S,GAAI,OAAI,EAAKmC,MAAM2Q,SAAS9S,M,sBAG/B,SAAC+S,GACZ,OAAOA,EAAOvQ,KAAI,SAAAL,GAAK,OAAIA,EAAM4Q,OAC9B,yBAAKzV,IAAK6E,EAAM7F,MAAO,EAAK0W,UAAU7Q,EAAM4Q,SAC5C,kBAAC,QAAD,MACG5Q,EADH,CAEDuQ,UAAWvQ,EAAMuQ,WAAa,EAAKvQ,MAAMiP,YACzC9T,IAAK6E,EAAM7F,KACXyE,QAAS,EAAKoB,MAAMpB,QAAQoB,EAAM8Q,aAAe9Q,EAAMpB,SAAW,Y,gVAI5D,MACmCkD,KAAK9B,MAAxCjD,EADA,EACAA,KAAMgF,EADN,EACMA,MAAOgP,EADb,EACaA,UAAWH,EADxB,EACwBA,OACxByB,EAAUC,aAAVD,MACR,OACC,kBAAC,MAAD,CAAKE,MAAM,SAASC,QAAQ,iBAC3B,kBAAC,MAAD,CAAKpR,KAAM,IACV,kBAAC,SAAD,CACCkG,KAAK,QACLvK,KAAK,UACL0V,OAAK,EACLlS,QAASuB,KAAKqP,cAJf,SAQA,kBAACkB,EAAD,CAAOK,MAAO,GAAa,SAAT3V,EAAkBgU,EAAYhP,GAChD,0BAAM0P,SAAU3P,KAAK9B,MAAMuR,aAAazP,KAAKyP,eAC3CzP,KAAK+O,UAAUD,KAGlB,kBAAC,MAAD,CAAKxP,KAAM,GAAI3B,MAAO,CAAEkT,UAAW,UAClC,kBAAC,SAAD,CAAQ5V,KAAK,UAAU6V,SAAS,SAASrS,QAASuB,KAAK9B,MAAMuR,aAAazP,KAAKyP,eAA/E,aACA,kBAAC,SAAD,CAAQ9R,MAAO,CAAEoT,WAAY,GAAKtS,QAASuB,KAAKqP,cAAhD,iB,gCA5DwB/O,a,GAAvBgQ,G,YAEc,CAClBpU,UAAWsE,IAAUE,OACrBkO,QAASpO,IAAUnE,KAAKoE,WACxBoO,SAAUrO,IAAUnE,KAAKoE,WACzBR,MAAOO,IAAUE,OACjBuO,UAAWzO,IAAUE,OACrBoO,OAAQtO,IAAU6L,MAAM5L,WACxB0M,YAAa3M,IAAUoP,UAAU,CAChCpP,IAAUnE,KACVmE,IAAUhH,W,GAXP8W,G,eAeiB,CACrBnD,iBAmDFmD,GAAe/P,UAAY,CAC1BtF,KAAMuF,IAAUE,OAChB5D,QAAS0D,IAAUhH,OACnBiW,aAAcjP,IAAUnE,MAGzBiU,GAAiBR,oBAAU,CAC1B/T,KAAM,cACNgU,SAAU,SAAC5O,EAAQjD,GAClB,IAAI8R,EAAS,GAMb,OAJA9R,EAAM4Q,OAAOmB,SAAQ,SAAAC,GAChBA,EAAMC,eAAcH,EAASE,EAAMC,aAAahP,EAAQ6O,OAGtDA,IATQF,CAWdQ,IAiBYA,OAffA,GAAiBzP,mBAAQ,SAACC,EAAO5C,GAChC,IAAMpB,EAAUoB,EAAM4Q,OAAOsB,QAAO,SAACC,EAAKH,GAKzC,OAJIpP,EAAMoP,EAAMlB,cACfqB,EAAIH,EAAMlB,YAAclO,EAAMoP,EAAMlB,YAAYtP,MAG1C2Q,IACL,IAEH,MAAO,CACNnB,uBAAwBpO,EAAMoO,uBAC9BpS,aAEC,GAbc+D,CAaVyP,I,w2BClGDA,G,0VAuBU,kBAAM,EAAKpS,MAAM0Q,a,yBAEjB,SAAA7S,GAAI,OAAI,EAAKmC,MAAM2Q,SAAS9S,M,sBAG/B,SAAC+S,GACZ,OAAIA,EAAOrN,OACHqN,EAAOvQ,KAAI,SAAAmE,GAAI,OACrB,kBAAC,OAAD,CAAMrJ,IAAKqJ,EAAKrK,MACf,kBAAC,OAAK6V,KAAN,CAAWd,MAAO1K,EAAKhF,aACtB,kBAAC,QAAD,CAAOzC,KAAK,OAAOsT,UAAQ,EAACxV,MAAO,EAAKmF,MAAM/B,cAAcuG,EAAKrK,aAI9D,Q,gVAGC,IACAyW,EAAW9O,KAAK9B,MAAhB4Q,OACAyB,EAAUC,aAAVD,MACR,OACC,kBAAC,MAAD,CAAKE,MAAM,SAASC,QAAQ,iBAC3B,kBAAC,MAAD,CAAKpR,KAAM,IACV,kBAACiR,EAAD,CAAOK,MAAO,GAAd,mBACC5Q,KAAK+O,UAAUD,IAEjB,kBAAC,MAAD,CAAKxP,KAAM,GAAI3B,MAAO,CAAEkT,UAAW,UAClC,kBAAC,SAAD,CAAQlT,MAAO,CAAEoT,WAAY,GAAKtS,QAASuB,KAAKqP,cAAhD,gB,gCAlDwB/O,a,GAAvBgQ,G,YAEc,CAClBpU,UAAWsE,IAAUE,OACrBkO,QAASpO,IAAUnE,KAAKoE,WACxBoO,SAAUrO,IAAUnE,KAAKoE,WACzBR,MAAOO,IAAUE,OACjBuO,UAAWzO,IAAUE,OACrBoO,OAAQtO,IAAU6L,MAAM5L,WACxB0M,YAAa3M,IAAUoP,UAAU,CAChCpP,IAAUnE,KACVmE,IAAUhH,W,GAXP8W,G,eAeiB,CACrBnD,iBAyCFmD,GAAe/P,UAAY,CAC1BtF,KAAMuF,IAAUE,OAChB5D,QAAS0D,IAAUhH,OACnBiW,aAAcjP,IAAUnE,MAGzBiU,GAAiBR,oBAAU,CAC1B/T,KAAM,cACNgU,SAAU,SAAC5O,EAAQjD,GAClB,IAAI8R,EAAS,GAMb,OAJA9R,EAAM4Q,OAAOmB,SAAQ,SAAAC,GAChBA,EAAMC,eAAcH,EAASE,EAAMC,aAAahP,EAAQ6O,OAGtDA,IATQF,CAWdQ,IAiBYA,OAffA,GAAiBzP,mBAAQ,SAACC,EAAO5C,GAChC,IAAMpB,EAAUoB,EAAM4Q,OAAOsB,QAAO,SAACC,EAAKH,GAKzC,OAJIpP,EAAMoP,EAAMlB,cACfqB,EAAIH,EAAMlB,YAAclO,EAAMoP,EAAMlB,YAAYtP,MAG1C2Q,IACL,IAEH,MAAO,CACNnB,uBAAwBpO,EAAMoO,uBAC9BpS,aAEC,GAbc+D,CAaVyP,I,k6CCpFN5U,GAQG3B,EARH2B,uBACAC,GAOG5B,EAPH4B,YACAE,GAMG9B,EANH8B,aACAC,GAKG/B,EALH+B,YACAE,GAIGjC,EAJHiC,YACAC,GAGGlC,EAHHkC,kBACAG,GAEGrC,EAFHqC,mBACAE,GACGvC,EADHuC,cAGY0U,GAAb,iC,iGAAA,wF,EAAA,K,GAAA,2C,kDAAA,wBAee,SAACpV,EAAQ8G,GAAS,IACvBuO,EAAsB,EAAK/S,MAA3B+S,kBACR,OAAQrV,EAAOJ,IACd,IAAK,SACJ,EAAK0V,eAAetV,EAAQ8G,GAC5B,MACD,IAAK,OACJ,EAAKyO,aAAavV,EAAQ8G,GAC1B,MACD,IAAK,SACJ,EAAK0O,aAAaxV,EAAQ8G,GAC1B,MACD,IAAK,UACJ,EAAK2O,cAAczV,EAAQ8G,GAC3B,MACD,QACC,OAAOuO,EAAoBA,EAAkBrV,EAAQ8G,GAAQ,SA/BjE,2BAoCkB,SAAC9G,EAAQ8G,GACzB,EAAKxE,MAAMjC,kBAAkB,OAAQyG,EAAM9G,GAC3C,EAAK0V,YAAY,EAAKpT,MAAMlD,cAtC9B,yBAyCgB,SAACY,EAAQ8G,GACvB,EAAKxE,MAAMjC,kBAAkB,OAAQyG,EAAM9G,GAC3C,EAAK0V,YAAY,EAAKpT,MAAMlD,cA3C9B,wBA8Ce,SAACA,GACd,EAAKkD,MAAMxC,uBAAuBV,MA/CpC,wBAkDe,SAACA,GACd,EAAKsW,cACL,EAAKpT,MAAMjC,kBAAkB,KAAM,SApDrC,yBAuDgB,SAACF,GACf,EAAKmC,MAAMlC,YAAYD,EAAM,EAAKmC,MAAMqT,YAAY3V,OAAQ,EAAKsC,MAAMlD,cAxDzE,yBA2DgB,SAACe,GACf,EAAKmC,MAAMpC,YAAYC,EAAM,EAAKmC,MAAM2O,WAAY,EAAK3O,MAAMlD,cA5DjE,yBA+DgB,SAACY,EAAQ8G,GACVyB,OAAOlH,QAAQ,EAAKiB,MAAMsT,2BAA2B9O,KAExD,EAAKxE,MAAMvC,YAAY+G,EAAKlH,GAAII,EAAQ,EAAKsC,MAAMlD,cAlE/D,0BAqEiB,SAACY,EAAQ8G,GACXyB,OAAOlH,QAAP,+BAAuCyF,EAAKrK,KAA5C,kBAA0DqK,EAAKlH,GAA/D,QAEH,EAAK0C,MAAMrC,aAAa6G,EAAKlH,GAAII,EAAOb,IAAK,EAAKmD,MAAMlD,cAxEpE,E,UAAA,O,mOAAA,M,EAAA,G,EAAA,2CAGEgF,KAAK9B,MAAM9B,mBAAmB4D,KAAKH,YAAaG,KAAK9B,MAAMlD,WAC3DgF,KAAK9B,MAAM5B,cAAc,CACxBmV,SAAUzR,KAAK9B,MAAMuT,SACrB5E,WAAY7M,KAAK9B,MAAM2O,WACvB7R,UAAWgF,KAAK9B,MAAMlD,UACtB0W,YAAa1R,KAAK9B,MAAMwT,YACxBvV,cAAe6D,KAAK9B,MAAM/B,cAC1BqD,cAAeQ,KAAK9B,MAAMsB,cAC1BmS,oBAAqB3R,KAAK9B,MAAMyT,wBAXnC,+BA2EU,aA0BJ3R,KAAK9B,MAxBRqT,EAFO,EAEPA,YACAK,EAHO,EAGPA,YACA5W,EAJO,EAIPA,UACAyW,EALO,EAKPA,SACAI,EANO,EAMPA,kBACAC,EAPO,EAOPA,kBACAC,EARO,EAQPA,eACAC,EATO,EASPA,SACA3M,EAVO,EAUPA,WACA4M,EAXO,EAWPA,aACA1M,EAZO,EAYPA,gBACA2M,EAbO,EAaPA,YACAvR,EAdO,EAcPA,UACAqE,EAfO,EAePA,eACAmN,EAhBO,EAgBPA,gBACA3M,EAjBO,EAiBPA,KACAC,EAlBO,EAkBPA,QACA2M,EAnBO,EAmBPA,aACA1M,EApBO,EAoBPA,QACA2M,EArBO,EAqBPA,OACAlF,EAtBO,EAsBPA,YACAmF,EAvBO,EAuBPA,cACA1M,EAxBO,EAwBPA,aACAC,EAzBO,EAyBPA,SAzBO,EA4B6BiM,GAAqB,GAAlD7R,EA5BA,EA4BAA,MAAOgP,EA5BP,EA4BOA,UAAWH,EA5BlB,EA4BkBA,OACpByD,EAAMJ,GAAmBK,SAG/B,OAAIH,GAAUT,IAAgB5W,GAAuC,SAA1BuW,EAAYrV,UAErD,kBAAC,GAAD,CACC+D,MAAOA,GAAS,UAChBgP,UAAWA,GAAa,gBACxBhU,KAAMsW,EAAYrV,UAClB0S,QAAS5O,KAAKyS,YACd3D,OAAQA,EACR3S,cAAeoV,EAAYpV,cACxB+V,EAAYX,EAAYpV,eACxBiW,GAAgB,GAEnBjF,YAAaA,IAIZkF,GAAUT,IAAgB5W,IAAc+W,EAE1C,kBAAC,GAAD,CACC9R,MAAOA,GAAS,UAChBgP,UAAWA,GAAa,gBACxBhU,KAAMsW,EAAYrV,UAClB0S,QAAS5O,KAAKyS,YACd5D,SAAoC,SAA1B0C,EAAYrV,UAAuB8D,KAAK0S,aAAe1S,KAAK2S,aACtE7D,OAAQA,EACR3S,cAAeoV,EAAYpV,cACxB+V,EAAYX,EAAYpV,eACxBiW,GAAgB,GAEnBjF,YAAaA,IAKf,6BACG4E,EAaC,KAXD,kBAACQ,EAAD,CACCtX,KAAK,UACL5C,KAAK,eACLoG,QAAS,kBAAM,EAAK6S,YAAYtW,IAChC2C,MAAK,MACDqU,EADC,CAEJY,aAAc,UAGdf,GAGJ,kBAACS,EAAD,MACA,kBAAC,EAAD,CACCtX,UAAWA,EACXD,IAAK0W,EACLpM,WAAYA,EACZC,aAAc2M,EACd1M,gBAAiBA,EACjB5E,UAAWA,EACXqE,eAAgBA,EAChBQ,KAAMA,EACNC,QAASA,EACTC,QAASA,EACTE,aAAcA,EACdC,SAAUA,IAEV+L,IAAgB5W,GAAc+W,EAgB1B,GAdH,kBAAC,GAAD,CACC9R,MAAOA,GAAS,UAChBgP,UAAWA,GAAa,gBACxB/S,UAAWqV,EAAYrV,UACvB0S,QAAS5O,KAAKyS,YACd5D,SAAoC,SAA1B0C,EAAYrV,UACnB8D,KAAK0S,aACL1S,KAAK2S,aACR7D,OAAQA,EACR3S,cAAeoV,EAAYpV,cACxB+V,EAAYX,EAAYpV,eACxBiW,GAAgB,GACnBjF,YAAaA,U,6BAzLpB,GAA8B7M,aAiM9B0Q,GAASzQ,UAAY,CACpBsM,WAAYrM,IAAUE,OACtB+Q,SAAUjR,IAAUE,OAAOD,WAC3BzF,UAAWwF,IAAUE,OAAOD,WAC5BwQ,kBAAmBzQ,IAAUnE,KAC7BwV,kBAAmBrR,IAAUoP,UAAU,CAACpP,IAAUE,OAAQF,IAAUhH,OAAQgH,IAAUqS,OACtFf,kBAAmBtR,IAAUsS,MAAM,CAAEhE,OAAQtO,IAAU6L,MAAM5L,aAC7DiR,YAAalR,IAAUnE,KACvB6V,YAAa1R,IAAUnE,KACvB2I,eAAgBxE,IAAUnE,KAC1B0V,eAAgBvR,IAAUgH,KAC1B6K,OAAQ7R,IAAUgH,KAClBwK,SAAUxR,IAAUhH,OACpB2Y,gBAAiB3R,IAAUhH,OAC3B6L,WAAY7E,IAAUhH,OACtByY,aAAczR,IAAUoP,UAAU,CAACpP,IAAUhH,OAAQgH,IAAUqS,OAC/DtN,gBAAiB/E,IAAUgH,KAC3B7G,UAAWH,IAAUE,OACrB8E,KAAMhF,IAAUE,OAChB+E,QAASjF,IAAUE,OACnB0R,aAAc5R,IAAUhH,OACxBgG,cAAegB,IAAUnE,KACzBqJ,QAASlF,IAAUiH,OACnB+J,2BAA4BhR,IAAUnE,KACtC8Q,YAAa3M,IAAUnE,KACvBD,mBAAoBoE,IAAUnE,KAC9BuJ,aAAcpF,IAAUoP,UAAU,CACjCpP,IAAUnE,KACVmE,IAAUhH,SAEX8Y,cAAe9R,IAAUoP,UAAU,CAClCpP,IAAUnE,KACVmE,IAAUhH,SAEXmY,oBAAqBnR,IAAUE,OAC/BmF,SAAUrF,IAAUgH,MAGrBwJ,GAASpQ,aAAe,CACvBiR,kBAAmB,WACnBH,YAAa,SAAA3V,GAAI,OAAIA,GACrBmW,YAAa,SAAAxP,GAAI,OAAIA,GACrBqP,gBAAgB,EAChBC,SAAU,GACV3M,WAAY,GACZ4M,aAAc,KACdtR,UAAW,UACX6E,KAAM,UACNhG,cAAe,iBAAM,IACrB8S,cAAe,kBAAM,MACrB1M,aAAc,KACd4L,2BAA4B,SAAA9O,GAAI,gCAAuBA,EAAKrK,KAA5B,kBAA0CqK,EAAKlH,GAA/C,OAChCmW,oBAAqB,MAGP9Q,0BAAQ,SAAAC,GAAK,MAAK,CAChCyQ,YAAazQ,EAAMiS,eACnBnB,YAAa9Q,EAAMgM,oBAChB,CACHpR,0BACAC,eACAE,gBACAC,eACAE,eACAC,qBACAG,sBACAE,kBAXcuE,CAYZmQ,IC3RUgC,GAAc,EACdC,GAAY,YACZC,GAAW,WACXC,GAAQ,SACRC,GAAU,WACVC,GAAQ,SACRC,GAAO,O,6qBCoKL,QACd3L,iBA5HsC,WAAwB,IAAvB7G,EAAuB,uDAAf,GAAIlF,EAAW,uCACtDX,EAAmCW,EAAnCX,KAAMsY,EAA6B3X,EAA7B2X,SAAUzH,EAAmBlQ,EAAnBkQ,MAAO5Q,EAAYU,EAAZV,QAE/B,OAAQD,GACR,KAAKlB,EAAQC,yBAA2BoZ,GACvC,aACItS,EADJ,IAECgF,SAAS,GACR5K,EAAQF,UAHV,MAIK8F,EAAM5F,EAAQF,WAJnB,MAKGE,EAAQwB,OAAS6W,EAAS7T,SAG9B,KAAK3F,EAAQC,yBAA2BqZ,GACvC,aACIvS,EADJ,CACWgF,SAAS,EAAOgG,UAE5B,KAAK/R,EAAQC,yBAA2BmZ,GACvC,aAAYrS,EAAZ,CAAmBgF,SAAS,IAC7B,QACC,OAAOhF,IAyGR4G,WAxKgC,WAAwB,IAAvB5G,EAAuB,uDAAf,GAAIlF,EAAW,uCAChDX,EAAmCW,EAAnCX,KAAMsY,EAA6B3X,EAA7B2X,SAAUzH,EAAmBlQ,EAAnBkQ,MAAO5Q,EAAYU,EAAZV,QAE/B,OAAQD,GACR,KAAKlB,EAAQE,kBAAoBmZ,GAChC,aAAYtS,EAAZ,MAAoB5F,EAAQO,OAAOT,UAAYuY,IAChD,KAAKxZ,EAAQE,kBAAoBoZ,GAChC,aACIvS,EADJ,MAEE5F,EAAQO,OAAOT,UAFjB,MAGK8F,EAAM5F,EAAQO,OAAOT,WAH1B,CAIE8K,SAAS,EACTgG,YAGH,KAAK/R,EAAQE,kBAAoBkZ,GAChC,aACIrS,EADJ,MAEE5F,EAAQO,OAAOT,UAFjB,MAGK8F,EAAM5F,EAAQO,OAAOT,WAH1B,CAIE8K,SAAS,MAGZ,KAAK/L,EAAQW,oBAAsB0Y,GAClC,IAAMI,EAAQ1S,EAAM5F,EAAQO,OAAOT,WACnC,aACI8F,EADJ,MAEE5F,EAAQO,OAAOT,UAFjB,MAGKwY,EAHL,CAIE9T,KAAM,MACF8T,EAAM9T,KADN,CAEH0F,MAAOoO,EAAM9T,KAAK0F,MAAM7G,KAAI,SAAAmE,GAAI,OAAIA,EAAKlH,KAAON,EAAQM,GAApB,MAChCkH,EADgC,CAEnCvE,SAAUoV,EAAS7T,KAAK0F,QACrB1C,WAIR,QACC,OAAO5B,IAkIRC,gBAtGqC,WAA0B,IAAzBD,EAAyB,uDAAjB,KAAMlF,EAAW,uCACvDX,EAAmCW,EAAnCX,KAAuBC,GAAYU,EAA7B2X,SAA6B3X,EAAnBkQ,MAAmBlQ,EAAZV,SAE/B,OAAQD,GACR,KAAKlB,EAAQG,sBACZ,aACI4G,EADJ,MAEE5F,EAAQF,UAAYE,EAAQmB,OAE/B,QACC,OAAOyE,IA6FRgM,iBAxFsC,WAA2B,IAA1BhM,EAA0B,wDAAXlF,EAAW,uCACzDX,EAAmCW,EAAnCX,KAAuBC,GAAYU,EAA7B2X,SAA6B3X,EAAnBkQ,MAAmBlQ,EAAZV,SAE/B,OAAQD,GACR,KAAKlB,EAAQS,0BACZ,OAAOsG,EAAQ,KAAO5F,EAAQF,UAC/B,QACC,OAAO8F,IAkFRiS,eA9EoC,WAAwB,IAAvBjS,EAAuB,uDAAf,GAAIlF,EAAW,uCACpDX,EAAmCW,EAAnCX,KAAuBC,GAAYU,EAA7B2X,SAA6B3X,EAAnBkQ,MAAmBlQ,EAAZV,SAE/B,OAAQD,GACR,KAAKlB,EAAQU,qBACZ,OAAOS,EACR,QACC,OAAO4F,IAwERE,WApEgC,WAAwB,IAAvBF,EAAuB,uDAAf,GAAIlF,EAAW,uCAChDX,EAAmCW,EAAnCX,KAAuBC,GAAYU,EAA7B2X,SAA6B3X,EAAnBkQ,MAAmBlQ,EAAZV,SAE/B,OAAQD,GACR,KAAKlB,EAAQI,gBACZ,aACI2G,EADJ,MAEE5F,EAAQF,UAAYE,IAEvB,QACC,OAAO4F,IA2DRoO,uBAvD4C,WAA2B,IAA1BpO,EAA0B,wDAAXlF,EAAW,uCAEvE,OAAQA,EAAOX,MACf,KAAKlB,EAAQQ,aAAe4Y,GAC5B,KAAKpZ,EAAQO,aAAe6Y,GAC3B,OAAO,EACR,KAAKpZ,EAAQQ,aAAe6Y,GAC5B,KAAKrZ,EAAQO,aAAe8Y,GAC5B,KAAKrZ,EAAQQ,aAAe8Y,GAC5B,KAAKtZ,EAAQO,aAAe+Y,GAC3B,OAAO,EACR,QACC,OAAOvS,IA4CRyL,cAxCmC,WAAwB,IAAvBzL,EAAuB,uDAAf,GAAIlF,EAAW,uCACnDX,EAAkBW,EAAlBX,KAAMC,EAAYU,EAAZV,QAEd,OAAQD,GACR,KAAKlB,EAAQY,mBACZ,aACImG,EADJ,MAEE5F,EAAQF,UAFV,MAE2B8F,EAAM5F,EAAQF,WAFzC,CAEqDgR,SAAU9Q,EAAQI,UAExE,KAAKvB,EAAQa,+BACZ,aACIkG,EADJ,MAEE5F,EAAQF,UAFV,MAE2B8F,EAAM5F,EAAQF,WAFzC,CAEqDI,gBAAiBF,EAAQE,oBAE/E,QACC,OAAO0F,IA0BRiM,WAtBM,WAAoD,IAApBjM,EAAoB,uDAAZ,GAAIlF,EAAQ,uCAClDX,EAAmCW,EAAnCX,KAAMsY,EAA6B3X,EAA7B2X,SAAUzH,EAAmBlQ,EAAnBkQ,MAAO5Q,EAAYU,EAAZV,QAE/B,OAAQD,GACR,KAAKlB,EAAQc,kBAAoBuY,GAChC,aAAYtS,EAAZ,MAAoB5F,EAAQF,UAAYuY,IACzC,KAAKxZ,EAAQc,kBAAoBwY,GAChC,MAAO,CAAEvH,SACV,QACC,OAAOhL,K,oCC9JM2S,GANY,SAACxY,EAAM4Q,EAAS6H,GAC1CC,eAAa1Y,GAAM,CAClB4Q,UACA6H,iB,mBCLa,SAASE,GAAeC,GAAwC,IAA9BC,EAA8B,uDAAd,SAAAzb,GAAI,OAAIA,GACxE,OAAOwb,EAASzD,QAAO,SAACC,EAAK3N,GAE5B,OADIA,EAAKqR,cAAa1D,EAAIyD,EAAcpR,EAAKqR,cAAgBrR,EAAKmJ,SAC3DwE,IACL,I,8rBCSa2D,I,aAwBAC,I,aA6CAC,I,aAaAC,I,aAYPC,I,aA6COC,I,aAOAC,I,aAwBAC,I,aAeAC,I,aAWAC,I,aAUAC,I,aAoBAC,I,aAUAC,I,aAKAC,I,aAMAC,I,aASQC,IAlQZC,GAAmB,SAAAlU,GAAK,OAAIA,EAAME,YAExC,SAAUgT,GAAWpY,GAArB,sEACFA,EAAOkQ,MADL,gBACY,OADZ,SACkB6H,GAAa,QAAS/X,EAAOkQ,MAAMD,SADrD,UAEFjQ,EAAO2X,SAAS0B,SAAWjC,GAFzB,gBAEsC,OAFtC,SAE4CW,GAAa,UAAW/X,EAAO2X,SAAS1H,SAFpF,wCASP,SAASqJ,GAAiB1Y,EAASyJ,GAUlC,OARYzN,OAAO2c,KAAK3Y,GAAS4T,QAAO,SAACC,EAAKhX,GAAN,aACpCgX,EADoC,MAEtChX,EARH,SAAsB4M,EAAS5M,GAC9B,QAAS4M,EAAQ3C,MAAK,SAAAjG,GAAC,MAAe,SAAXA,EAAEpC,MAAmBoC,EAAE7B,KAAOnC,KAOjD+b,CAAanP,EAAS5M,GAAQmD,EAAQnD,aAAgBuF,MAAiB,KAAOC,IAAOrC,EAAQnD,IAAM2I,OACvGxF,EAAQnD,GAAKgc,cAAgBzW,MAAQpC,EAAQnD,GAC5C,SACD,IAME,IAAMic,GAAgB,SAAAta,GAAS,OAAI,SAAA8F,GAAK,OAAIA,EAAM4G,WAAW1M,KAE7D,SAAUiZ,GAAoBrY,GAA9B,oGAKa,OAJXV,EAAYU,EAAZV,QADF,EAIFA,EAAQO,QAAU,GADrBqJ,EAHK,EAGLA,MAAOF,EAHF,EAGEA,SAAUF,EAHZ,EAGYA,KAAM1J,EAHlB,EAGkBA,UAAgBua,EAHlC,EAG6Bxa,IAH7B,SAKmBya,kBAAOR,IAL1B,OASQ,OAJRhU,EALA,OAOAjG,EAAMwa,GAAavU,EAAWhG,GAAWyW,SAPzC,SASc+D,kBAAOF,GAActa,IATnC,OAYU,OAHVwY,EATA,OAWAvN,EAAUuN,GAASA,EAAM9T,KAAO8T,EAAM9T,KAAKuG,QAAU,GAXrD,UAYgBiP,GAAiBha,EAAQsB,SAAW,GAAIyJ,GAZxD,QAqCN,OAzBMzJ,EAZA,OAcAf,EAASP,EAAUua,0BAAe,MACpCjZ,EADmC,CAEtCsI,MAAQA,EAAyB,WAAVA,EAAqBoO,GAAWD,GAAvC,KAChBrO,WACAF,UAEI,GAECgR,EAAY,CAACja,GAEfP,EAAQsB,SAAShE,OAAO2c,KAAKja,EAAQsB,SAASyT,SAAQ,SAAC5W,GACtD6B,EAAQsB,QAAQnD,IAAQ6B,EAAQsB,QAAQnD,GAAKgc,cAAgBzW,OAChE8W,EAAU3V,KAAK4V,kCAAuBza,EAAQsB,QAAQnD,GAAMA,OAIxDuc,EAAYF,EAAUtF,QAAO,SAACC,EAAKhT,EAAGvF,GAI3C,OAAOuY,GAHOvY,IAAMuY,GAAOhT,EAAI,IAAM,KAClBgT,GAAOhT,EAAI,IAAM,IAEHA,IAC/B,IAnCG,UAqCAwY,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQ,MACRiW,MAAM,EACNhb,IAAK,GAAF,OAAKA,GAAL,OAAW6a,OAzCT,yCA6CA,SAAU1B,GAA2BtY,GAArC,mFACE2X,EAAsB3X,EAAtB2X,SAAUrY,EAAYU,EAAZV,QACbqY,EAAS7T,KAFR,iDAIEuG,EAAYsN,EAAS7T,KAArBuG,QACCnO,EAAI,EALP,YAKUA,EAAImO,EAAQxE,QALtB,sBAMCc,EAAS0D,EAAQnO,IACZ4E,OAAOyI,MAAO5C,EAAO7F,OAAOC,MAPlC,iBAQJ,OARI,UAQEkZ,eAAI9b,EAAQ0C,sBAAsBvB,EAAQO,OAAOT,UAAWuH,EAAO/G,GAAI+G,EAAO7F,OAAOC,QARvF,QAK8B7E,IAL9B,wDAaA,SAAUqc,GAA0BvY,GAApC,kEACN,OADM,SACAia,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQ,MACRiW,MAAM,EACNhb,IAAK,GAAF,OAAKa,EAAOV,QAAQyB,WALlB,wCAYP,SAAUyX,GAAYpZ,EAAWgb,GAAjC,sFACgB,OADhB,SACsBR,kBAAOR,IAD7B,UACOvZ,EADP,OAESkW,EAAwBlW,EAAOT,GAA/B2W,oBACFsE,EAAS,GAEVtE,EALN,yCAKkCsE,GALlC,UAOOC,EAAaF,GAAcA,EAAWhb,GAAagb,EAAWhb,GAAWgR,SAAW,KAP3F,0CASyBiK,GATzB,QAWKne,EAAI,EAXT,aAaQA,EAAIoe,EAAWzU,QAbvB,oBAcOyU,EAAWpe,GAAGmU,IAdrB,iBAmBqB,OAJZkK,EAAW,IAAIC,UAEZC,OAAO,OAAQH,EAAWpe,IAjBtC,UAmB2BG,gBAAKqe,MAAO3E,EAAoB5W,IAAK,CAC5D+E,OAAQ,OACRyW,QAAS,CAAEC,cAAe,UAAY7E,EAAoB8E,OAC1Dxd,KAAM,OACNyd,KAAMP,IAvBV,QA0Be,OAPNQ,EAnBT,iBA0BqBA,EAAUC,OA1B/B,WA0BSC,EA1BT,OA2BG1M,QAAQC,IAAIyM,GAEa,MAArBF,EAAU1B,OA7BjB,iBA8BI,OA9BJ,UA8BUjB,GAAW,CAAElI,MAAO,CAAED,QAAS,6BAA+B0H,SAAU,KA9BlF,QA+BIpJ,QAAQC,IAAIyM,GA/BhB,QAkCGZ,EAAOlW,KAAK8W,EAAItD,UAlCnB,wBAoCG0C,EAAOlW,KAAKmW,EAAWpe,IApC1B,QAuCEA,IAvCF,iDA0CQme,GA1CR,yCA6CO,SAAU5B,GAAgBrZ,GAA1B,0EACa,OADb,SACmBwa,mBAAO,SAAA1U,GAAK,OAAIA,EAAMyL,iBADzC,OAEQ,OADRyJ,EADA,gBAEc5B,GAAYpZ,EAAWgb,GAFrC,cAEA1a,EAFA,yBAICA,EAAMiD,KAAI,SAAAuM,GAAC,aAAUA,EAAV,CAAatP,GAAIsP,EAAEtP,IAAMsP,EAAER,UAJvC,wCAOA,SAAUgK,GAAgB1Y,GAA1B,gFACS,OADT,SACe4Z,kBAAOR,IADtB,OAKN,OAJMvZ,EADA,OAEET,EAAcY,EAAOV,QAArBF,UACA0W,EAAgBjW,EAAOT,GAAvB0W,YAHF,SAKAmE,eAAI,MACNja,EADK,CAERX,KAAMW,EAAOX,KAAOkY,MAPf,OAUgB,OAVhB,SAUsBkB,GAAgBrZ,GAVtC,OAcN,OAJM8b,EAVA,OAYA/a,EAAO2V,EAAY9V,EAAOV,QAAQa,KAAM+a,GAZxC,UAcAjB,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQ,OACRiW,MAAM,EACNhb,IAAK,GAAF,OAAKa,EAAOV,QAAQH,KACvBG,QAAS,MAAKa,GACdf,gBApBK,yCAwBA,SAAUuZ,GAAiB3Y,GAA3B,sFACS,OADT,SACe4Z,kBAAOR,IADtB,OAMN,OALMvZ,EADA,SAIFA,EAAOG,EAAOZ,WAAaY,EAAOV,QAAQF,WAD7CA,EAHK,EAGLA,UAAWyW,EAHN,EAGMA,SAAUjV,EAHhB,EAGgBA,QAASkI,EAHzB,EAGyBA,KAAMI,EAH/B,EAG+BA,MAAOF,EAHtC,EAGsCA,SAHtC,SAMAiR,eAAI9b,EAAQwC,gBAAgB,CACjCvB,YACAD,IAAK0W,EACL/M,OACAE,WACAE,SACEtI,IAZG,wCAeA,SAAUgY,GAAgB5Y,GAA1B,kEACN,OADM,SACAia,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQlE,EAAOV,QAAQU,OAAOkE,OAC9BiW,MAAM,EACNhb,IAAK,GAAF,OAAKa,EAAOV,QAAQU,OAAOb,KAC9BG,QAASU,EAAOV,QAChBF,UAAWY,EAAOV,QAAQF,cAPrB,wCAWA,SAAUyZ,GAAiB7Y,GAA3B,kEACN,OADM,SACAia,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQ,OACRiW,MAAM,EACNhb,IAAK,GAAF,OAAKa,EAAOV,QAAQH,KACvBG,QAASU,EAAOV,YANX,wCAUA,SAAUwZ,GAAgB9Y,GAA1B,0EACS,OADT,SACe4Z,kBAAOR,IADtB,OAGN,OAFMvZ,EADA,gBAGAoa,eAAI,MACNja,EADK,CAERX,KAAMW,EAAOX,KAAOkY,MALf,OAQgB,OARhB,SAQsBkB,GAAgBzY,EAAOV,QAAQF,WARrD,OAUN,OAFM8b,EARA,iBAUAjB,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQlE,EAAOV,QAAQU,OAAOkE,OAC9BiW,MAAM,EACNhb,IAAK,GAAF,OAAKa,EAAOV,QAAQU,OAAOb,KAC9BG,QAASO,EAAOG,EAAOV,QAAQF,WAAW0W,YAAY9V,EAAOV,QAAQa,KAAM+a,GAC3E9b,UAAWY,EAAOV,QAAQF,cAhBrB,yCAoBA,SAAU2Z,GAAsB/Y,GAAhC,kEACN,OADM,SACAia,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQ,MACRiW,MAAM,EACNhb,IAAK,GAAF,OAAKa,EAAOV,QAAQH,KACvBG,QAASU,EAAOV,YANX,wCAUA,SAAU0Z,KAAV,kEACN,OADM,SACAiB,eAAI9b,EAAQ2B,0BADZ,OAEN,OAFM,SAEAma,eAAI9b,EAAQkC,kBAAkB,KAAM,OAFpC,wCAKA,SAAU4Y,GAA8BjZ,GAAxC,wEAEN,OADMoU,EAAS4D,GAAehY,EAAOiY,UAD/B,SAEAgC,eAAIkB,qBAAW,cAAe/G,IAF9B,OAGN,OAHM,SAGA2D,GAAa,QAAS/X,EAAOkQ,MAAMD,SAHnC,wCAMA,SAAUiJ,GAAoBlZ,GAA9B,kEACN,OADM,SACAia,eAAIC,mBAAQ,MACdla,EADa,CAEhBkE,OAAQ,MACRiW,MAAM,EACNhb,IAAKa,EAAOV,QAAQH,QALf,wCASQ,SAAUga,KAAV,kEACd,OADc,SACRiC,eAAI,CACTC,qBAAUld,EAAQE,kBAAmBga,IACrCgD,qBAAUld,EAAQE,kBAAoBmZ,GAASc,IAC/C+C,qBAAUld,EAAQC,yBAA0Bma,IAE5C8C,qBAAUld,EAAQW,oBAAqBia,IAEvCsC,qBAAUld,EAAQQ,aAAc+Z,IAChC2C,qBAAUld,EAAQQ,aAAe6Y,GAASwB,IAC1CqC,qBAAUld,EAAQQ,aAAe6Y,GAASmB,IAC1C0C,qBAAUld,EAAQQ,aAAe6Y,GAASY,IAC1CiD,qBAAUld,EAAQQ,aAAe8Y,GAAOwB,IAExCoC,qBAAUld,EAAQK,aAAcoa,IAChCyC,qBAAUld,EAAQK,aAAegZ,GAASmB,IAC1C0C,qBAAUld,EAAQK,aAAegZ,GAASY,IAC1CiD,qBAAUld,EAAQK,aAAeiZ,GAAOW,IAExCiD,qBAAUld,EAAQM,cAAeoa,IACjCwC,qBAAUld,EAAQM,cAAgB+Y,GAASmB,IAC3C0C,qBAAUld,EAAQM,cAAgB+Y,GAASY,IAC3CiD,qBAAUld,EAAQM,cAAgBgZ,GAAOW,IAEzCiD,qBAAUld,EAAQO,aAAcoa,IAChCuC,qBAAUld,EAAQO,aAAe8Y,GAASwB,IAC1CqC,qBAAUld,EAAQO,aAAe8Y,GAASmB,IAC1C0C,qBAAUld,EAAQO,aAAe8Y,GAASY,IAC1CiD,qBAAUld,EAAQO,aAAe+Y,GAAOwB,IAExCoC,qBAAUld,EAAQc,kBAAmBia,IAErCoC,gBAAKC,QAhCQ,wC,iBCrPEC,I,aA+DAC,I,6qBA3EV,IAAMC,GAAW,SAAC5X,EAAM6T,GAC9B,OAAoB,IAAhB7T,EAAKuV,OAAqB,CAC7BpJ,QAAS,yHAGU,MAAhBnM,EAAKuV,OAAuB1B,EAC5BA,EAASM,SAAiBN,EAASM,SAAS,GAEzC,IAID,SAAUuD,GAAYxb,GAAtB,gGAKO,OAHZV,EACGU,EADHV,QAAS4E,EACNlE,EADMkE,OAAQ/E,EACda,EADcb,IAAKgb,EACnBna,EADmBma,KAAe9a,EAClCW,EADyB2b,QACzB3b,EADwC4b,gBAFtC,SAKahC,mBAAO,SAAA1U,GAAK,OAAIA,EAAM2W,KALnC,OAUL,OALKC,EALA,OApBmBrf,EA2BD,aA1BlBsf,WAAUC,SAASC,OAAOC,MAAM,IAAIC,OACzC,WAAa1f,EAAK2f,QAAQ,+BAAgC,QAAU,aAyB/DvB,EAtBCkB,EAAUM,mBAAmBN,EAAQ,SAAMxM,EAe5C,kBAUC0K,eAAI,MACNja,EADK,CAERX,KAAMA,EAAOkY,MAZT,OA2BQ,OAZPuD,EAAOxb,EAAUgd,KAAKC,UAAUjd,GAAW,GAC3Cqb,EAAU,IAAI6B,QAAQ,CAAC,eAAgB,qBACzCrC,GAAMQ,EAAQ8B,IAAI,gBAAiB,UAAY5B,GAE7Chb,EAAS,CACdqE,SACAyW,UACAtd,KAAM,QAGHyd,GAAmB,QAAX5W,IAAkBrE,EAAOib,KAAOA,GAzBvC,UA2Bcze,gBAClBqe,MACAoB,EAAO3c,EACPU,GA9BI,QAiCY,OANXiE,EA3BD,iBAiCkBA,EAAKkX,OAjCvB,WAiCCrD,EAjCD,OAkCe,MAAhB7T,EAAKuV,OAlCJ,iBAqCJ,OAFMnJ,EAAQwL,GAAS5X,EAAM6T,GAnCzB,UAqCEsC,eAAI,MACNja,EADK,CAERX,KAAMA,EAAOqY,GACbxH,WAxCG,gCA2CJ,OA3CI,UA2CE+J,eAAI,MACNja,EADK,CAERX,KAAMA,EAAOmY,GACbG,SAAU,CACT7T,KAAM6T,EAASA,SACfzH,MAA2B,MAApByH,EAAS0B,QAAgD,IAA9B1B,EAASM,SAAS,GAAG5Y,KACpDsY,EAASM,SAAS,GAAGhI,QACrB,KACHoJ,OAAQ1B,EAAS0B,OACjBpJ,QAA6B,IAApB0H,EAAS0B,QAA8C,IAA9B1B,EAASM,SAAS,GAAG5Y,KACpDsY,EAASM,SAAS,GAAGhI,QACrB,SAtDD,0DA2DL1B,QAAQC,IAAR,MA3DK,kCApBA,IAAmB/R,EACnBsf,IAmBA,kBA+DA,SAAUN,KAAV,kEACN,OADM,SACAL,eAAI,CACTC,qBAAU,UAAWG,MAFhB,wCCvFP,oVAWO,IAAMkB,GAAUC,GACVC,GAAOC,GACPC,GAAcnE,GACd6C,GAAcC,GACdtd,GAAUgK,EACVQ,GAAWoU,EACX3H,GAAW4H,GACXjM,GAAekM","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"antd\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"regenerator-runtime\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux-form\");","module.exports = require(\"moment\");","module.exports = require(\"sm-redux-saga-request\");","module.exports = require(\"draft-js\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"sm-string-helper\");","module.exports = require(\"moment/locale/ru\");","module.exports = require(\"connected-react-router\");","module.exports = require(\"styled-components\");","module.exports = require(\"draftjs-to-html\");","module.exports = require(\"react-draft-wysiwyg\");","module.exports = require(\"redux\");","module.exports = require(\"@babel/polyfill\");","module.exports = require(\"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\");","const actions = {\n\tFETCH_CRUD_FILTER_VALUES: 'FETCH_CRUD_FILTER_VALUES',\n\tFETCH_CRUD_MODELS: 'FETCH_CRUD_MODELS',\n\tSET_CRUD_ACTIONS_FUNC: 'SET_CRUD_ACTIONS_FUNC',\n\tSET_CRUD_PARAMS: 'SET_CRUD_PARAMS',\n\n\tDELETE_MODEL: 'DELETE_MODEL',\n\tRESTORE_MODEL: 'RESTORE_MODEL',\n\tCHANGE_MODEL: 'CHANGE_MODEL',\n\tCREATE_MODEL: 'CREATE_MODEL',\n\tTOGGLE_CREATE_MODEL_MODAL: 'TOGGLE_CREATE_MODEL_MODAL',\n\tSET_MODEL_MODAL_FORM: 'SET_MODEL_MODAL_FORM',\n\tFETCH_CRUD_CHILDREN: 'FETCH_CRUD_CHILDREN',\n\tSET_UPLOADER_FILES: 'SET_UPLOADER_FILES',\n\tSET_UPLOADER_DEFAULT_FILE_LIST: 'SET_UPLOADER_DEFAULT_FILE_LIST',\n\tFETCH_FILE_CONFIG: 'FETCH_FILE_CONFIG',\n\tfetchFileConfig: (url, modelName) => ({ type: actions.FETCH_FILE_CONFIG, payload: { url, modelName } }),\n\tsetUploaderDefaultFileList: (defaultFileList, modelName) => ({\n\t\ttype: actions.SET_UPLOADER_DEFAULT_FILE_LIST,\n\t\tpayload: { defaultFileList, modelName }\n\t}),\n\tsetUploaderFiles: (files, modelName) => ({ type: actions.SET_UPLOADER_FILES, payload: { files, modelName } }),\n\tfetchCrudChildren: (id, modelName, url) => ({\n\t\ttype: actions.FETCH_CRUD_CHILDREN,\n\t\tpayload: { id, params: { modelName }, url }\n\t}),\n\ttoggleCreateModelModal: modelName => ({ type: actions.TOGGLE_CREATE_MODEL_MODAL, payload: { modelName } }),\n\n\tdeleteModel: (id, action, modelName) => ({\n\t\ttype: actions.DELETE_MODEL,\n\t\tpayload: {\n\t\t\tid, action, modelName\n\t\t}\n\t}),\n\trestoreModel: (id, url, modelName) => ({\n\t\ttype: actions.RESTORE_MODEL,\n\t\tpayload: {\n\t\t\tid, url, modelName\n\t\t}\n\t}),\n\tcreateModel: (form, url, modelName) => ({\n\t\ttype: actions.CREATE_MODEL,\n\t\tpayload: {\n\t\t\tform, url, modelName\n\t\t}\n\t}),\n\n\tchangeModel: (form, action, modelName) => ({\n\t\ttype: actions.CHANGE_MODEL,\n\t\tpayload: {\n\t\t\tform, action, modelName\n\t\t}\n\t}),\n\n\tsetModelModalForm: (modalType, initialValues, action) => ({\n\t\ttype: actions.SET_MODEL_MODAL_FORM,\n\t\tpayload: {\n\t\t\tmodalType, initialValues, action\n\t\t}\n\t}),\n\n\tsetCrudActionsFunc: (func, modelName) => ({ type: actions.SET_CRUD_ACTIONS_FUNC, payload: { func, modelName } }),\n\tsetCrudParams: params => ({ type: actions.SET_CRUD_PARAMS, payload: params }),\n\tfetchCrudModels: (params, filters) => ({ type: actions.FETCH_CRUD_MODELS, payload: { params, filters } }),\n\tfetchCrudFilterValues: (modelName, filter, query) => ({\n\t\ttype: actions.FETCH_CRUD_FILTER_VALUES,\n\t\tpayload: {\n\t\t\tquery, filter, modelName\n\t\t}\n\t}),\n};\n\nexport default actions;\n","import React from 'react'\nimport { Input, Button, Checkbox, Select, DatePicker } from 'antd';\nimport moment from 'moment'\nimport 'moment/locale/ru'\n\nconst { Option } = Select;\n\nexport default (name, type, options) => ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n\t<div\n\t\tclassName=\"custom-filter-dropdown\"\n\t>\n\t\t{type === 'checkbox' ? (\n\t\t\t<span>\n\t\t\t\t<Checkbox\n\t\t\t\t\tvalue={selectedKeys}\n\t\t\t\t\tonChange={e => setSelectedKeys(e.target.checked.toString())}\n\t\t\t\t\tonPressEnter={() => { confirm() }}\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t</span>\n\t\t)\n\t\t\t: type === 'select' ? (\n\t\t\t\t<Select\n\t\t\t\t\tvalue={selectedKeys}\n\t\t\t\t\tplaceholder=\"Выбрать\"\n\t\t\t\t\tonChange={(e) => { setSelectedKeys(e); confirm(); }}\n\t\t\t\t\tonPressEnter={() => { confirm() }}\n\t\t\t\t\tstyle={{ width: '130px', marginRight: '8px' }}\n\t\t\t\t\tshowSearch\n\t\t\t\t\tfilterOption={(search, option) =>\n\t\t\t\t\t\toption.props.children.toLowerCase().indexOf(search.toLowerCase()) >= 0\n\t\t\t\t\t}\n\t\t\t\t\tonSearch={() => {}}\n\t\t\t\t>\n\t\t\t\t\t{options.map(opt => (\n\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\tvalue={opt.value}\n\t\t\t\t\t        key={opt.value}\n\t\t\t\t\t        onClick={(e) => {\n\t\t\t\t\t\t        setSelectedKeys(opt.value); setTimeout(() => confirm(), 100);\n\t\t\t\t\t        }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{opt.text}\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t)\n\t\t\t\t: type === 'date' ? (\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tvalue={selectedKeys && !(selectedKeys instanceof Array)\n\t\t\t\t\t\t\t? moment(selectedKeys, 'DD/MM/YYYY').locale('ru')\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={value => setSelectedKeys(value)}\n\t\t\t\t\t\tonPressEnter={() => { confirm() }}\n\t\t\t\t\t\tplaceholder=\"Выберите дату\"\n\t\t\t\t\t\tformat={'DD/MM/YYYY'}\n\t\t\t\t\t\tstyle={{ marginRight: '8px' }}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t\t\t: (\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\tplaceholder=\"Поиск\"\n\t\t\t\t\t\t\tvalue={selectedKeys}\n\t\t\t\t\t\t\tonChange={e => setSelectedKeys(e.target.value ? e.target.value : null)}\n\t\t\t\t\t\t\tonPressEnter={() => { confirm() }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t}\n\t\t<Button type=\"primary\" onClick={() => { confirm() }}>Поиск</Button>\n\t\t<Button onClick={() => { clearFilters() }}>Сбросить</Button>\n\t</div>\n);\n","import React from 'react'\nimport filterDropdown from './filterDropdown'\n\nexport default function filterRenderer(filterType, columnName, options) {\n\n\tswitch (filterType) {\n\tcase 'input_number':\n\t\treturn filterDropdown(columnName, 'number');\n\tcase 'input_text':\n\t\treturn filterDropdown(columnName, 'text');\n\tcase 'date_picker':\n\t\treturn filterDropdown(columnName, 'date');\n\tcase 'select_one':\n\t\treturn filterDropdown(columnName, 'select', options);\n\tcase 'boolean':\n\t\treturn filterDropdown(columnName, 'checkbox');\n\tdefault:\n\t\treturn null;\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { Icon } from 'antd'\n\nimport styled from 'styled-components';\n\nconst ActionStyled = styled.span`\n\t.crud-action {\n\t\tfont-size: 20px;\n\t\tpadding: 0 5px;\n\t}\n`;\n\nclass Action extends Component {\n\n    getIcon = (id) => {\n    \tswitch (id) {\n\t        case 'update':\n\t            return 'edit';\n\t        case 'delete':\n\t            return 'delete';\n\t        case 'create':\n\t            return 'plus-circle';\n\t        case 'restore':\n\t            return 'select';\n\t        case 'view-back':\n\t        case 'view':\n\t            return 'eye';\n\t        case 'check':\n\t            return 'user';\n\t        case 'took':\n\t            return 'login';\n\t        case 'return':\n\t            return 'logout';\n\t        case 'finish':\n\t            return 'check-circle';\n\t        case 'logs':\n\t            return 'form';\n\t\t    case 'transfer':\n\t\t\t    return 'switcher';\n\t        default:\n\t            return this.props.params.iconsProvider(id)\n    \t}\n    };\n\n\thandleClick = (ev) => {\n\t\tconst { data, row } = this.props;\n\n\t\tswitch (data.type) {\n\t\tcase 'query':\n\t\t\tev.preventDefault();\n\t\t\tthis.props.actionsFunc(data, row);\n\t\t\tbreak;\n\t\tcase 'link':\n\t\t\tif (data.method === '_blank') return null;\n\t\t\tev.preventDefault();\n\t\t\tthis.props.push(data.url);\n\t\t\tbreak;\n\t\tcase 'out-link':\n\t\tdefault:\n\t\t\treturn null;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { data, row } = this.props;\n\n\t\treturn (\n\t\t\t<ActionStyled>\n\t\t\t\t<a title={data.name} href={data.url} target=\"_blank\" className=\"crud-action\" onClick={this.handleClick}>\n\t\t\t\t\t<Icon type={this.getIcon(data.id) || data.icon} />\n\t\t\t\t</a>\n\t\t\t</ActionStyled>\n\t\t)\n\t}\n}\n\nAction.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\trow: PropTypes.object.isRequired,\n\tmodelName: PropTypes.string,\n\ticonTheme: PropTypes.string,\n\ticonsProvider: PropTypes.func\n};\n\nAction.defaultProps = { iconTheme: 'outlined' }\n\nexport default connect((state, props) => ({\n\tactionsFunc: state.crudActionsFunc[props.modelName],\n\tparams: state.crudParams[props.modelName]\n}), {\n\tpush\n})(Action)\n","/* eslint-disable react/no-array-index-key */\nimport React, { Fragment, useState } from 'react';\nimport Action from '../crud/action'\nimport moment from 'moment'\nimport { Icon } from 'antd'\n\nconst DateCell = data => <p>{moment(data).format('DD.MM.YYYY')}</p>;\nconst TextCell = text => <span>{text}</span>;\nconst BooleanCell = value => (\n\t<span>\n\t\t{value\n\t\t\t? <Icon type=\"check\" style={{ color: 'green' }} />\n\t\t\t: <Icon type=\"close\" style={{ color: 'red' }} />\n\t\t}\n\t</span>);\nconst ArrTextCell = arr => arr.map(elem => <p>{elem}</p>);\nconst HtmlCell = html => <span dangerouslySetInnerHTML={{ __html: html }} />;\nconst ActionsCell = (row, modelName, iconTheme) => row.actions.map(action => (\n\t<Action data={action} row={row} key={action.id} modelName={modelName} iconTheme={iconTheme} />\n));\nconst ArrObjectCell = (obj) => {\n\tif (!Array.isArray(obj) || !obj.length) return null;\n\treturn obj.map(({ created_at = false, updated_at = false, ...rest }) => {\n\t\tconst restValues = rest ? Object.values(rest) : false;\n\t\tconst restAttributes = restValues\n\t\t\t? restValues.map((el, i) => <span key={i}>{el}</span>) : '';\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<p>\n\t\t\t\t\t{created_at ? moment.unix(created_at)\n\t\t\t\t\t\t.format('DD.MM.YYYY') : ''} {updated_at ? moment.unix(updated_at)\n\t\t\t\t\t\t.format('DD.MM.YYYY') : ''} {restAttributes}\n\t\t\t\t</p>\n\t\t\t\t<br />\n\t\t\t</Fragment>\n\t\t)\n\t})\n};\nconst renderer = (value, type, dateFormat) => {\n\tswitch (type) {\n\tcase 'date':\n\t\treturn moment.unix(value).format(dateFormat || 'DD.MM.YYYY');\n\tcase 'array_ext':\n\t\treturn ArrayCell(value);\n\tdefault:\n\t\treturn value;\n\t}\n};\nconst ArrayCell = ({ values, type, delimiter, style, isHtml, dateFormat, viewLimit }) => {\n\tif (!Array.isArray(values) || !values.length) return null;\n\n\tconst handledValues = values.map((value, index) => (\n\t\t<span style={isHtml && style ? style : null} key={index + Date.now()}>\n\t\t\t{isHtml ? <span dangerouslySetInnerHTML={{ __html: value }} /> : ''}\n\t\t\t{!isHtml && renderer(value, type, dateFormat)}\n\t\t\t{index < (values.length - 1) && delimiter}\n\t\t</span>\n\t));\n\n\treturn <ArrayCellLimit values={handledValues} viewLimit={viewLimit} />;\n};\n\nconst ArrayCellLimit = (props) => {\n\tconst [showAll, setShowAll] = useState(!props.viewLimit);\n\n\treturn showAll ? props.values : (\n\t\t<div>\n\t\t\t{props.values.slice(0, props.viewLimit)}\n\t\t\t{ setShowAll ? <a onClick={() => setShowAll(true)}>...</a> : null }\n\t\t</div>\n\t);\n};\n\nexport {\n\tDateCell,\n\tTextCell,\n\tArrayCell,\n\tArrTextCell,\n\tArrObjectCell,\n\tActionsCell,\n\tBooleanCell,\n\tHtmlCell\n};\n","/* eslint-disable no-case-declarations */\nimport React from 'react'\nimport {\n\tDateCell,\n\tTextCell,\n\tArrTextCell,\n\tActionsCell,\n\tBooleanCell,\n\tArrObjectCell,\n\tHtmlCell, ArrayCell\n} from '../tables/helperCells';\nimport { Link } from 'react-router-dom'\n\n\nexport default (row, column, modelName, iconTheme) => {\n\tif (row[column.id] !== 0 && !row[column.id] && row[column.id] !== false) return null;\n\tswitch (column.type) {\n\tcase 'object':\n\t\treturn TextCell(row[column.id].alias || row[column.id].name);\n\tcase 'actions':\n\t\treturn ActionsCell(row, modelName, iconTheme);\n\tcase 'array':\n\t\treturn ArrTextCell(row[column.id]);\n\tcase 'array_ext':\n\t\treturn ArrayCell(row[column.id]);\n\tcase 'array_objects':\n\t    return ArrObjectCell(row[column.id]);\n\tcase 'date':\n\t\treturn DateCell(Number(row[column.id]) * 1000);\n\tcase 'link':\n\t\tconst link = row[column.id];\n\t\tif (link.url && link.name) return (\n\t\t\t<Link to={link.url}>\n\t\t\t\t{link.name}\n\t\t\t</Link>\n\t\t);\n\t\tconst actionView = row.actions.find(e => e.id === 'view');\n\t\treturn actionView && actionView.url\n\t\t\t? (\n\t\t\t\t<Link to={actionView.url}>\n\t\t\t\t\t{row[column.id]}\n\t\t\t\t</Link>)\n\t\t\t: TextCell(row[column.id]);\n\tcase 'boolean':\n\t\treturn BooleanCell(row[column.id]);\n\tcase 'html':\n\t\treturn HtmlCell(row[column.id]);\n\tdefault:\n\t\treturn TextCell(row[column.id]);\n\t}\n};\n","import React from 'react'\nimport { Spin, Icon } from 'antd';\n\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 36 }} spin />;\nconst Loader = () => (\n\t<div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', width: '100%'}}>\n\t\t<Spin\n\t\t\t//indicator={antIcon}\n\t\t/>\n\t</div>\n);\n\nexport default Loader\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types';\nimport { Icon, Table } from 'antd';\nimport crudActions from '../../redux/actions'\nimport filterRenderer from './filterRenderer'\nimport dataRenderer from './dataRenderer'\nimport Loader from './loader'\n\nconst { fetchCrudModels, fetchCrudChildren, setCrudParams } = crudActions;\nconst viewWidth = Math.min(window.innerWidth, screen.width);\nconst isNotMiddleSizeWindow = viewWidth > 1640 || viewWidth < 800;\n\nclass CrudView extends Component {\n\n\tcomponentDidMount() {\n\t\tconst { modelName, url } = this.props;\n\t\tthis.props.fetchCrudModels({\n\t\t\tmodelName,\n\t\t\turl\n\t\t});\n\t}\n\n\thandleTableChange = (pagination, filters, sorter) => {\n\t\tthis.props.fetchCrudModels({\n\t\t\tmodelName: this.props.modelName,\n\t\t\turl: this.props.url,\n\t\t\tpage: pagination.current,\n\t\t\torder_by: sorter.columnKey,\n\t\t\torder: sorter.order\n\t\t}, filters);\n\n\t\tthis.props.setCrudParams({\n\t\t\t...this.props.crudParams[this.props.modelName],\n\t\t\tpage: pagination.current,\n\t\t\torder_by: sorter.columnKey,\n\t\t\torder: sorter.order,\n\t\t\tfilters\n\t\t})\n\t};\n\n\thandleExpand = (isExpanded, row) => {\n\n\t\tif (isExpanded) {\n\t\t\tthis.props.fetchCrudChildren(row.id, this.props.modelName, this.props.getChildrenUrl(row.id))\n\t\t}\n\t};\n\n\tgetFilterValues = (col) => {\n\t\tconst { filterValues } = this.props;\n\n\t\treturn filterValues && col.filter.can && filterValues[col.id] ?\n\t\t\tfilterValues[col.id].map(elem => ({\n\t\t\t\ttext: elem.name,\n\t\t\t\tvalue: elem.id\n\t\t\t}))\n\t\t\t: []\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\titems,\n\t\t\tmodelName,\n\t\t\ttableStyle,\n\t\t\tTableWrapper,\n\t\t\tfixActionColumn,\n\t\t\ticonTheme,\n\t\t\tsize,\n\t\t\ttdClass,\n\t\t\tscrollX,\n\t\t\tpageSize,\n\t\t\trowSelection,\n\t\t\tbordered\n\t\t} = this.props;\n\n\t\tif (items && !items.data && items.loading) return <Loader />;\n\t\tif (!items || !items.data) return null;\n\n\t\tconst listItems = items.data.items.map(elem => ({\n\t\t\t...elem,\n\t\t\tkey: elem.id,\n\t\t\tchildren: elem.has_child ? elem.children || [] : null\n\t\t}));\n\t\t// console.log(fixActionColumn, isNotMiddleSizeWindow)\n\n\t\tconst columns = items.data.columns.map(col => ({\n\t\t\tclassName: 'crud-table-column' + (tdClass ? ' ' + tdClass : ''),\n\t\t\ttitle: col.title, // <IntlMessages id=\"antTable.title.id\"/>,\n\t\t\tkey: col.id,\n\t\t\tfixed: col.id === 'actions' && !isNotMiddleSizeWindow && fixActionColumn ? 'right' : null,\n\t\t\twidth: col.id === 'actions' && !isNotMiddleSizeWindow && fixActionColumn ? 150 : 'auto',\n\t\t\trender: object => dataRenderer(object, col, modelName, iconTheme),\n\t\t\tfilters: this.getFilterValues(col),\n\t\t\tfilterIcon: col.filter.can\n\t\t\t\t? filtered => (\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype=\"filter\"\n\t\t\t\t\t\tstyle={{ color: filtered ? '#108ee9' : '#aaa' }}\n\t\t\t\t\t\ttheme=\"outlined\"\n\t\t\t\t\t/>)\n\t\t\t\t: null,\n\t\t\tfilterDropdown: col.filter.can\n\t\t\t\t? filterRenderer(col.filter.type, col.id, this.getFilterValues(col))\n\t\t\t\t: null,\n\t\t\tsorter: col.order.can ? () => {\n\t\t\t} : null// (a, b) => Number(a.id) - Number(b.id),\n\t\t}));\n\n\t\tconst TableComponent = TableWrapper || Table;\n\n\t\treturn (\n\t\t\t<TableComponent\n\t\t\t\tcolumns={columns}\n\t\t\t\tdataSource={listItems}\n\t\t\t\tclassName=\"isoSortingTable\"\n\t\t\t\tonChange={this.handleTableChange}\n\t\t\t\tpagination={{\n\t\t\t\t\tdefaultCurrent: 1,\n\t\t\t\t\tpageSize: items.data.filter.limit || pageSize,\n\t\t\t\t\ttotal: items.data.count,\n\t\t\t\t\thideOnSinglePage: true\n\t\t\t\t}}\n\t\t\t\tloading={items.loading}\n\t\t\t\tscroll={!isNotMiddleSizeWindow && fixActionColumn ? { x: scrollX } : {}}\n\t\t\t\tonExpand={this.handleExpand}\n\t\t\t\tsize={size}\n\t\t\t\ttableStyle={tableStyle}\n\t\t\t\trowClassName={record => record.row ? record.row.state : 'default'}\n\t\t\t\trowSelection={rowSelection}\n\t\t\t\tbordered={bordered}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nCrudView.propTypes = {\n\tmodelName: PropTypes.string.isRequired,\n\turl: PropTypes.string.isRequired,\n\tfixActionColumn: PropTypes.bool,\n\ticonTheme: PropTypes.string,\n\tgetChildrenUrl: PropTypes.func,\n\tsize: PropTypes.string,\n\ttdClass: PropTypes.string,\n\tscrollX: PropTypes.number,\n\tpageSize: PropTypes.number,\n\trowSelection: PropTypes.func\n};\n\nCrudView.defaultProps = {\n\tfixActionColumn: true,\n\tscrollX: 1300,\n\tpageSize: 20\n};\n\nexport default connect((state, props) => ({\n\titems: state.crudModels[props.modelName],\n\tfilterValues: state.crudFilterValues[props.modelName],\n\tcrudParams: state.crudParams\n}), {\n\tfetchCrudModels,\n\tfetchCrudChildren,\n\tsetCrudParams\n})(CrudView);\n","import { ContentState, EditorState, convertToRaw, convertFromHTML } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport PropTypes from 'prop-types'\nimport React, { Component } from 'react';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\n// import './index.css'\n\nclass DraftEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\teditorState: props.input && props.input.value\n\t\t\t\t? EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(props.input.value)))\n\t\t\t\t: EditorState.createEmpty(),\n\t\t}\n\t}\n\n\tonEditorStateChange = (editorState) => {\n\t\tthis.setState({\n\t\t\teditorState,\n\t\t});\n\t\tthis.props.input.onChange(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n\t};\n\n\trender() {\n\t\tconst { editorState } = this.state;\n\n\t\treturn (\n\t\t\t<Editor\n\t\t\t\tdefaultContentState=\"defaultContentState\"\n\t\t\t\tinitialEditorState=\"initialEditorState\"\n\t\t\t\tdefaultEditorState=\"defaultEditorState\"\n\t\t\t\tplaceholder=\"Текст\"\n\t\t\t\teditorState={editorState}\n\t\t\t\twrapperClassName=\"demo-wrapper\"\n\t\t\t\tonEditorStateChange={this.onEditorStateChange}\n\t\t\t\teditorClassName=\"ant-input form-control\"\n\t\t\t\ttoolbar={{\n\t\t\t\t\toptions: ['inline', 'list', 'link', 'history'],\n\t\t\t\t\tinline: {\n\t\t\t\t\t\toptions: ['bold', 'italic'],\n\t\t\t\t\t},\n\t\t\t\t\tlist: {\n\t\t\t\t\t\toptions: ['unordered', 'ordered'],\n\t\t\t\t\t},\n\n\t\t\t\t}}\n\t\t\t\tlocalization={{\n\t\t\t\t\tlocale: 'ru',\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nDraftEditor.propTypes = {\n\tinput: PropTypes.object,\n\tinitialValue: PropTypes.object,\n}\nexport default DraftEditor\n","import React from 'react'\nimport { Icon } from 'antd'\n\nconst layoutStyle = {\n\tposition: 'fixed',\n\ttop: 0, left: 0,\n\twidth: '100%',\n\theight: '100%',\n\tbackground: '#000',\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tjustifyContent: 'center',\n\tzIndex: 999\n};\n\nconst imgStyle = {\n\tmaxWidth: '100%',\n\tmaxHeight: '100%'\n};\n\nconst closeIconStyle = {\n\tposition: 'fixed',\n\ttop: '10px',\n\tright: '25px',\n\tfontSize: '25px'\n};\n\nfunction UploaderFilePreview(props) {\n\tconst { preview, setPreview, files } = props;\n\n\tif (!preview) return null;\n\tconsole.log(files, preview)\n\tconst file = files.find(e => e.uid === preview);\n\tconst url = file.url || window.URL.createObjectURL(file);\n\n\treturn (\n\t\t<div style={layoutStyle} onClick={() => setPreview(null)}>\n\t\t\t<a style={closeIconStyle}><Icon type={'close'} /></a>\n\t\t\t<img src={url} style={imgStyle} />\n\t\t</div>\n\t);\n}\n\nexport default UploaderFilePreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { message } from 'antd'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport actions from '../../../redux/actions'\nimport UploaderFilePreview from '../../crud/uploaderFilePreview';\n\nconst { setUploaderDefaultFileList } = actions;\n\nconst UploadDecorator = UploaderComponent => class Uploader extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = { preview: null };\n\t}\n\n\tsetPreview = (id) => {\n\t\tthis.setState({ preview: id })\n\t};\n\n\thandleFileRemove = (file) => {\n\t\tconst newFileList = this.props.fileListStored.filter(f => f.uid !== file.uid);\n\t\tthis.props.onChange(newFileList);\n\t};\n\n\trender() {\n\t\tconst { config } = this.props;\n\t\tconst listType = this.props.listType || 'text';\n\t\tconst multiple = this.props.multiple || false;\n\t\tconst buttonText = this.props.buttonText || undefined;\n\t\tconst { preview } = this.state;\n\t\tconst { fileListStored } = this.props;\n\n\t\tconst uploaderProps = {\n\t\t\tonRemove: this.handleFileRemove,\n\t\t\taccept: config.mimeTypes,\n\t\t\tbeforeUpload: (file) => {\n\t\t\t\tconst isMax = fileListStored.length === (config.maxFiles || 100);\n\t\t\t\tif (file.size > (config.maxSize || 10000000)) {\n\t\t\t\t\tmessage.error('Ошибка загрузки, файл превышает допустимый размер');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (multiple && isMax) {\n\t\t\t\t\tmessage.error('Ошибка загрузки, превышено допустимое количество загружаемых файлов');\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tconst newFileList = !multiple\n\t\t\t\t\t? [file]\n\t\t\t\t\t: isMax\n\t\t\t\t\t\t? fileListStored\n\t\t\t\t\t\t: [...fileListStored, file];\n\n\t\t\t\tthis.props.onChange(newFileList);\n\n\t\t\t\treturn false\n\t\t\t},\n\t\t\t// disabled: fileListStored.length === (config.maxFiles || 100),\n\t\t\tonPreview: file => this.setPreview(file.uid),\n\t\t\tfileList: fileListStored.map(f => ({\n\t\t\t\told: !!f.old,\n\t\t\t\turl: f.old ? f.url : window.URL.createObjectURL(f),\n\t\t\t\tname: f.name,\n\t\t\t\tuid: f.uid,\n\t\t\t\tlastModified: f.lastModified,\n\t\t\t\tlastModifiedDate: f.lastModifiedDate,\n\t\t\t\tsize: f.size,\n\t\t\t\ttype: f.type,\n\t\t\t\twebkitRelativePath: f.webkitRelativePath\n\t\t\t})),\n\t\t\tlistType,\n\t\t\tbuttonText\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<UploaderComponent {...uploaderProps} />\n\t\t\t\t<UploaderFilePreview\n\t\t\t\t\tsetPreview={this.setPreview}\n\t\t\t\t\tpreview={preview}\n\t\t\t\t\tfiles={fileListStored}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nUploadDecorator.propTypes = {\n\tonChange: PropTypes.func.isRequired,\n\tsetUploaderDefaultFileList: PropTypes.func.isRequired,\n\tmodelName: PropTypes.string.isRequired,\n\tlistType: PropTypes.string,\n\tmultiple: PropTypes.bool,\n\tdefaultFileList: PropTypes.array,\n\tfileListStored: PropTypes.array.isRequired,\n};\n\nconst mapStateToProps = (state, props) => {\n\tconst { uploaderFiles } = state;\n\tconst { modelName } = props;\n\tconst uploaderModelFiles = uploaderFiles && uploaderFiles[modelName]\n\t\t? uploaderFiles[modelName] : {};\n\n\treturn {\n\t\tdefaultFileListStored: uploaderModelFiles.defaultFileList || [],\n\t\tfileListStored: uploaderModelFiles.fileList || [],\n\t}\n};\n\nexport default compose(\n\tconnect(mapStateToProps, { setUploaderDefaultFileList }),\n\tUploadDecorator\n)\n","import React  from 'react'\nimport { Upload, Icon, Button } from 'antd'\nimport PropTypes from 'prop-types'\nimport UploadDecorator from './uploadDdecorator';\n\nfunction Uploader(props) {\n\treturn (\n\t\t<Upload {...props}>\n\t\t\t<Button type={'default'}>\n\t\t\t\t<Icon type=\"upload\" /> {props.buttonText}\n\t\t\t</Button>\n\t\t</Upload>\n\t)\n}\n\nUploader.propTypes = {\n\tbuttonText: PropTypes.string,\n\tlistType: PropTypes.string,\n};\n\nUploader.defaultProps = {\n\tbuttonText: 'Upload',\n};\n\nexport default UploadDecorator(Uploader)\n","import React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport Uploader from '../custom/Uploader';\nimport { connect } from 'react-redux'\nimport actions from '../../redux/actions'\n\nconst { setUploaderFiles, setUploaderDefaultFileList, fetchFileConfig } = actions;\n\nfunction CrudUploader(props) {\n\tuseEffect(() => {\n\t\tprops.setUploaderFiles(props.defaultFileList, props.modelName);\n\t\tprops.fetchFileConfig(props.crudParams[props.modelName].crudCreate + '/config', props.modelName);\n\n\t\treturn () => props.setUploaderFiles([], props.modelName)\n\t}, []);\n\tconsole.log(props.config[props.modelName])\n\treturn (\n\t\t<Uploader\n\t\t\t{...props}\n\t\t\tconfig={\n\t\t\t\tprops.config[props.modelName] &&  props.config[props.modelName].data\n\t\t\t\t\t? props.config[props.modelName].data.files.config\n\t\t\t\t\t: {}\n\t\t\t}\n\t\t\tonChange={files => props.setUploaderFiles(files, props.modelName)}\n\t\t/>\n\t);\n}\n\nCrudUploader.propTypes = {\n\tsetUploaderFiles: PropTypes.func.isRequired,\n\tmodelName: PropTypes.string.isRequired,\n\tsetUploaderDefaultFileList: PropTypes.func.isRequired,\n\tcrudParams: PropTypes.object.isRequired,\n\tfetchFileConfig: PropTypes.func.isRequired,\n\tdefaultFileList: PropTypes.array\n};\n\nexport default connect(\n\t(state, props) => ({\n\t\tmodelName: state.isOpenModelModal || props.modelName,\n\t\tcrudParams: state.crudParams,\n\t\tconfig: state.fileConfig\n\t}),\n\t{\n\t\tsetUploaderFiles,\n\t\tsetUploaderDefaultFileList,\n\t\tfetchFileConfig\n\t}\n)(CrudUploader)\n","import React from 'react';\nimport { Input, Form, Checkbox, Select, DatePicker } from 'antd'\nimport moment from 'moment'\nimport 'moment/locale/ru'\nimport { Field } from 'redux-form'\n//import locale from 'antd/lib/date-picker/locale/ru_RU'\n//moment.locale('ru');\nimport Editor from '../components/custom/Editor'\nimport Uploader from '../components/crud/uploader';\n\nconst { Option: SelectOption } = Select;\nconst Search = Input.Search;\n\nexport const renderField = ({\n\tinput,\n\tlabel,\n\ttype,\n\toptions,\n\tmode,\n\tmin,\n\tmax,\n\tstep,\n\tmeta: { touched, error, warning },\n\tvalidating,\n\tplaceholder,\n\trows,\n\tsize,\n\tlayout,\n\tonPressEnter,\n\tdefaultValue,\n\taddonAfter,\n\tenterButton,\n\tdropdownRender,\n\tuploaderParams,\n\tlocale\n}) => (<Form.Item\n\thasFeedback\n\t{...layout}\n\tlabel={label}\n\tvalidateStatus={error && touched ? 'error'\n\t\t: warning && touched ? 'warning'\n\t\t\t: validating ? 'validating'\n\t\t\t\t: ''}\n\thelp={touched && error ? error : ''}\n>\n\t{(() => {\n\t\tswitch (type) {\n\t\tcase 'select':\n\t\t\treturn (<Select\n\t\t\t\t{...input}\n\t\t\t\tvalue={input.value || []}\n\t\t\t\tmode={mode}\n\t\t\t\tshowSearch\n\t\t\t\toptionFilterProp=\"children\"\n\t\t\t\tdisabled={input.disabled ? true : false}\n\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tdropdownRender={dropdownRender}\n\t\t\t>\n\t\t\t\t{options.map(elem => (<SelectOption value={elem.id} key={elem.id}>\n\t\t\t\t\t{elem.name}\n\t\t\t\t</SelectOption>))}\n\t\t\t</Select>);\n\t\tcase 'textarea':\n\t\t\treturn (<Input.TextArea\n\t\t\t\t{...input}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\ttype={type}\n\t\t\t\tclassName=\"form-control\"\n\t\t\t\trows={rows}\n\t\t\t/>);\n\t\tcase 'checkbox':\n\t\t\treturn (<Checkbox {...input}>\n\t\t\t\t{placeholder}\n\t\t\t</Checkbox>);\n\t\tcase 'search':\n\t\t\treturn (<Search\n\t\t\t\tonPressEnter={onPressEnter}\n\t\t\t\t{...input}\n\t\t\t\tvalue={input.value || defaultValue}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tenterButton={enterButton}\n\t\t\t/>);\n\t\tcase 'date':\n\t\t\treturn (<DatePicker\n\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\tonPressEnter={onPressEnter}\n\t\t\t\t{...input}\n\t\t\t\tvalue={input.value ? moment(input.value, 'DD/MM/YYYY').locale('ru') : null}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\t// onChange={(value) => console.log(value)}\n\t\t\t\tformat=\"DD/MM/YYYY\"\n\t\t\t\t//locale={locale}\n\t\t\t/>);\n\t\tcase 'editor':\n\t\t\treturn <Field name={input.name} component={Editor} />;\n\t\tcase 'uploader':\n\t\t\treturn <Uploader {...uploaderParams} defaultFileList={input.value} />;\n\t\tdefault:\n\t\t\treturn (<Input\n\t\t\t\tonPressEnter={onPressEnter}\n\t\t\t\t{...input}\n\t\t\t\tvalue={input.value || defaultValue}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\ttype={type}\n\t\t\t\tclassName=\"form-control\"\n\t\t\t\tmin={min}\n\t\t\t\tmax={max}\n\t\t\t\tstep={step}\n\t\t\t\tsize={size}\n\t\t\t\taddonAfter={addonAfter}\n\t\t\t/>);\n\t\t}\n\t})()}\n</Form.Item>);\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Modal } from 'antd';\nimport { reduxForm, Field } from 'redux-form'\nimport { renderField } from '../../helpers/renderField'\n\nclass CreateModalForm extends Component {\n\n\tstatic propTypes = {\n\t\tmodalType: PropTypes.string,\n\t\tonClose: PropTypes.func.isRequired,\n\t\tonCreate: PropTypes.func.isRequired,\n\t\ttitle: PropTypes.string,\n\t\ttitleEdit: PropTypes.string,\n\t\tfields: PropTypes.array.isRequired,\n\t\trenderField: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.object\n\t\t]),\n\t\thandleSubmit: PropTypes.func.isRequired,\n\t\tuploadFileUrl: PropTypes.string\n\t};\n\n\tstatic defaultProps = {\n\t\trenderField\n\t};\n\n\tcomponentDidMount() {\n\n\t}\n\n\thandleCancel = () => {\n\t\tthis.props.onClose();\n\t};\n\n\thandleSubmit = form => {\n\t\tthis.props.onCreate(form)\n\t};\n\n\thandleAdd = () => {\n\n\t};\n\n\tmapFields = fields => {\n\t\treturn fields.map(props => props.fields ? (\n\t\t\t<div key={props.name}>\n\t\t\t\t{this.mapFields(props.fields)}\n\t\t\t</div>\n\t\t) : <Field\n\t\t\t{...props}\n\t\t\tcomponent={props.component || this.props.renderField}\n\t\t\tkey={props.name}\n\t\t\toptions={this.props.options[props.optionsKey] || props.options || []}\n\t\t/>)\n\t};\n\n\trender() {\n\t\tconst { modalType, title, titleEdit, fields, crudCreateModalLoading } = this.props;\n\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\ttitle={modalType === 'edit' ? titleEdit : title}\n\t\t\t\tvisible\n\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\tcancelText=\"Отмена\"\n\t\t\t\tconfirmLoading={crudCreateModalLoading}\n\t\t\t\tonOk={this.props.handleSubmit(this.handleSubmit)}\n\t\t\t\tokText={modalType === 'edit' ? 'Сохранить' : 'Создать'}\n\t\t\t>\n\t\t\t\t<form onSubmit={this.props.handleSubmit(this.handleSubmit)}>\n\t\t\t\t\t{this.mapFields(fields)}\n\t\t\t\t</form>\n\t\t\t</Modal>\n\t\t)\n\t}\n}\n\nCreateModalForm = reduxForm({\n\tform: 'createModel',\n\tvalidate: (values, props) => {\n\t\tlet errors = {};\n\t\t// if(!values.name) errors.name = 'Введите название';\n\t\tprops.fields.forEach(field => {\n\t\t\tif (field.validateFunc) errors = field.validateFunc(values, errors)\n\t\t});\n\n\t\treturn errors;\n\t},\n\t// initialValues comes from outside\n})(CreateModalForm);\n\nCreateModalForm =  connect((state, props) => {\n\tconst options = props.fields.reduce((acc, field) => {\n\t\tif (state[field.optionsKey]) {\n\t\t\tacc[field.optionsKey] = state[field.optionsKey].data\n\t\t}\n\n\t\treturn acc;\n\t}, {});\n\n\treturn {\n\t\tcrudCreateModalLoading: state.crudCreateModalLoading,\n\t\toptions\n\t}\n}, {\n\n})(CreateModalForm);\n\nexport default CreateModalForm\n","import { Button, Col, Row, Typography } from 'antd';\nimport PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\nimport { renderField } from '../../helpers/renderField'\n\nclass CreateViewForm extends Component {\n\n\tstatic propTypes = {\n\t\tmodalType: PropTypes.string,\n\t\tonClose: PropTypes.func.isRequired,\n\t\tonCreate: PropTypes.func.isRequired,\n\t\ttitle: PropTypes.string,\n\t\ttitleEdit: PropTypes.string,\n\t\tfields: PropTypes.array.isRequired,\n\t\trenderField: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.object\n\t\t])\n\t};\n\n\tstatic defaultProps = {\n\t\trenderField\n\t};\n\n\tcomponentDidMount() {\n\n\t}\n\n\thandleCancel = () => this.props.onClose()\n\n\thandleSubmit = form => this.props.onCreate(form)\n\n\n\tmapFields = (fields) => {\n\t\treturn fields.map(props => props.fields\n\t\t\t? <div key={props.name}>{this.mapFields(props.fields)}</div>\n\t\t\t: <Field\n\t\t\t\t{...props}\n\t\t\t\tcomponent={props.component || this.props.renderField}\n\t\t\t\tkey={props.name}\n\t\t\t\toptions={this.props.options[props.optionsKey] || props.options || []}\n\t\t\t/>)\n\t};\n\n\trender() {\n\t\tconst { type, title, titleEdit, fields } = this.props;\n\t\tconst { Title } = Typography\n\t\treturn (\n\t\t\t<Row align=\"middle\" justify=\"space-between\">\n\t\t\t\t<Col span={20}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tghost\n\t\t\t\t\t\tonClick={this.handleCancel}\n\t\t\t\t\t>\n\t\t\t\t\t\tНазад\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Title level={2}>{type === 'edit' ? titleEdit : title}</Title>\n\t\t\t\t\t<form onSubmit={this.props.handleSubmit(this.handleSubmit)}>\n\t\t\t\t\t\t{this.mapFields(fields)}\n\t\t\t\t\t</form>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={20} style={{ textAlign: 'right' }}>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" onClick={this.props.handleSubmit(this.handleSubmit)}>Отправить</Button>\n\t\t\t\t\t<Button style={{ marginLeft: 8 }} onClick={this.handleCancel}>Отмена</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t)\n\t}\n}\n\nCreateViewForm.propTypes = {\n\ttype: PropTypes.string,\n\toptions: PropTypes.object,\n\thandleSubmit: PropTypes.func,\n}\n\nCreateViewForm = reduxForm({\n\tform: 'createModel',\n\tvalidate: (values, props) => {\n\t\tlet errors = {};\n\t\t// if(!values.name) errors.name = 'Введите название';\n\t\tprops.fields.forEach(field => {\n\t\t\tif (field.validateFunc) errors = field.validateFunc(values, errors)\n\t\t});\n\n\t\treturn errors;\n\t}\n})(CreateViewForm);\n\nCreateViewForm = connect((state, props) => {\n\tconst options = props.fields.reduce((acc, field) => {\n\t\tif (state[field.optionsKey]) {\n\t\t\tacc[field.optionsKey] = state[field.optionsKey].data\n\t\t}\n\n\t\treturn acc;\n\t}, {});\n\n\treturn {\n\t\tcrudCreateModalLoading: state.crudCreateModalLoading,\n\t\toptions\n\t}\n}, {})(CreateViewForm);\n\nexport default CreateViewForm\n","import { Button, Col, Row, Typography } from 'antd';\nimport PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\nimport { renderField } from '../../helpers/renderField'\nimport { Form, Input } from 'antd'\n\nclass CreateViewForm extends Component {\n\n\tstatic propTypes = {\n\t\tmodalType: PropTypes.string,\n\t\tonClose: PropTypes.func.isRequired,\n\t\tonCreate: PropTypes.func.isRequired,\n\t\ttitle: PropTypes.string,\n\t\ttitleEdit: PropTypes.string,\n\t\tfields: PropTypes.array.isRequired,\n\t\trenderField: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.object\n\t\t])\n\t};\n\n\tstatic defaultProps = {\n\t\trenderField\n\t};\n\n\tcomponentDidMount() {\n\n\t}\n\n\thandleCancel = () => this.props.onClose()\n\n\thandleSubmit = form => this.props.onCreate(form)\n\n\n\tmapFields = (fields) => {\n\t\tif (fields.length) {\n\t\t\treturn fields.map(elem => (\n\t\t\t\t<Form key={elem.name}>\n\t\t\t\t\t<Form.Item label={elem.placeholder}>\n\t\t\t\t\t\t<Input type=\"text\" disabled value={this.props.initialValues[elem.name]} />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Form>))\n\t\t}\n\t\treturn null\n\t}\n\n\trender() {\n\t\tconst { fields } = this.props;\n\t\tconst { Title } = Typography\n\t\treturn (\n\t\t\t<Row align=\"middle\" justify=\"space-between\">\n\t\t\t\t<Col span={20}>\n\t\t\t\t\t<Title level={2}>Просмотр алерта</Title>\n\t\t\t\t\t{this.mapFields(fields)}\n\t\t\t\t</Col>\n\t\t\t\t<Col span={20} style={{ textAlign: 'right' }}>\n\t\t\t\t\t<Button style={{ marginLeft: 8 }} onClick={this.handleCancel}>Назад</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t)\n\t}\n}\n\nCreateViewForm.propTypes = {\n\ttype: PropTypes.string,\n\toptions: PropTypes.object,\n\thandleSubmit: PropTypes.func,\n}\n\nCreateViewForm = reduxForm({\n\tform: 'createModel',\n\tvalidate: (values, props) => {\n\t\tlet errors = {};\n\t\t// if(!values.name) errors.name = 'Введите название';\n\t\tprops.fields.forEach(field => {\n\t\t\tif (field.validateFunc) errors = field.validateFunc(values, errors)\n\t\t});\n\n\t\treturn errors;\n\t}\n})(CreateViewForm);\n\nCreateViewForm = connect((state, props) => {\n\tconst options = props.fields.reduce((acc, field) => {\n\t\tif (state[field.optionsKey]) {\n\t\t\tacc[field.optionsKey] = state[field.optionsKey].data\n\t\t}\n\n\t\treturn acc;\n\t}, {});\n\n\treturn {\n\t\tcrudCreateModalLoading: state.crudCreateModalLoading,\n\t\toptions\n\t}\n}, {})(CreateViewForm);\n\nexport default CreateViewForm\n","/* eslint-disable indent */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport actions from '../../redux/actions';\nimport CrudView from './crudView'\nimport CreateModel from './createModel'\nimport CreateModelView from './createModelView'\nimport ShowModelView from './showModelView'\nimport { Button } from 'antd';\nimport '../../style.css'\n\nconst {\n\ttoggleCreateModelModal,\n\tdeleteModel,\n\trestoreModel,\n\tcreateModel,\n\tchangeModel,\n\tsetModelModalForm,\n\tsetCrudActionsFunc,\n\tsetCrudParams\n} = actions;\n\nexport class CrudFull extends Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.setCrudActionsFunc(this.actionsFunc, this.props.modelName);\n\t\tthis.props.setCrudParams({\n\t\t\tcrudRead: this.props.crudRead,\n\t\t\tcrudCreate: this.props.crudCreate,\n\t\t\tmodelName: this.props.modelName,\n\t\t\tsubmitShape: this.props.submitShape,\n\t\t\tinitialValues: this.props.initialValues,\n\t\t\ticonsProvider: this.props.iconsProvider,\n\t\t\tuploadFilesSettings: this.props.uploadFilesSettings\n\t\t})\n\t}\n\n\tactionsFunc = (action, elem) => {\n\t\tconst { customActionsFunc } = this.props;\n\t\tswitch (action.id) {\n\t\t\tcase 'update':\n\t\t\t\tthis.openUpdateFrom(action, elem);\n\t\t\t\tbreak;\n\t\t\tcase 'view':\n\t\t\t\tthis.openViewFrom(action, elem);\n\t\t\t\tbreak;\n\t\t\tcase 'delete':\n\t\t\t\tthis.handleDelete(action, elem);\n\t\t\t\tbreak;\n\t\t\tcase 'restore':\n\t\t\t\tthis.handleRestore(action, elem);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn customActionsFunc ? customActionsFunc(action, elem) : null;\n\t\t}\n\t};\n\n\n\topenUpdateFrom = (action, elem) => {\n\t\tthis.props.setModelModalForm('edit', elem, action);\n\t\tthis.toggleModal(this.props.modelName);\n\t};\n\n\topenViewFrom = (action, elem) => {\n\t\tthis.props.setModelModalForm('view', elem, action);\n\t\tthis.toggleModal(this.props.modelName);\n\t};\n\n\ttoggleModal = (modelName) => {\n\t\tthis.props.toggleCreateModelModal(modelName);\n\t};\n\n\thandleClose = (modelName) => {\n\t\tthis.toggleModal();\n\t\tthis.props.setModelModalForm(null, null);\n\t};\n\n\thandleUpdate = (form) => {\n\t\tthis.props.changeModel(form, this.props.objectModal.action, this.props.modelName)\n\t};\n\n\thandleCreate = (form) => {\n\t\tthis.props.createModel(form, this.props.crudCreate, this.props.modelName)\n\t};\n\n\thandleDelete = (action, elem) => {\n\t\tconst conf = window.confirm(this.props.onDeleteConfirmMessageFunc(elem));\n\n\t\tif (conf) this.props.deleteModel(elem.id, action, this.props.modelName)\n\t};\n\n\thandleRestore = (action, elem) => {\n\t\tconst conf = window.confirm(`Хотите восстановить \"${elem.name}\" (ID: ${elem.id})?`);\n\n\t\tif (conf) this.props.restoreModel(elem.id, action.url, this.props.modelName)\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tobjectModal,\n\t\t\tisModalOpen,\n\t\t\tmodelName,\n\t\t\tcrudRead,\n\t\t\tcreateButtonTitle,\n\t\t\tcreateFormOptions,\n\t\t\tcreateDisabled,\n\t\t\tbtnStyle,\n\t\t\ttableStyle,\n\t\t\ttableWrapper,\n\t\t\tfixActionColumn,\n\t\t\tupdateShape,\n\t\t\ticonTheme,\n\t\t\tgetChildrenUrl,\n\t\t\tButtonComponent,\n\t\t\tsize,\n\t\t\ttdClass,\n\t\t\tinitialModal,\n\t\t\tscrollX,\n\t\t\tisView,\n\t\t\trenderField,\n\t\t\tCustomButtons,\n\t\t\trowSelection,\n\t\t\tbordered\n\t\t} = this.props;\n\n\t\tconst { title, titleEdit, fields } = createFormOptions || {};\n\t\tconst Btn = ButtonComponent || Button;\n\n\t\t// viewMode\n\t\tif (isView && isModalOpen === modelName && objectModal.modalType === 'view')\n\t\t\treturn (\n\t\t\t\t<ShowModelView\n\t\t\t\t\ttitle={title || 'Создать'}\n\t\t\t\t\ttitleEdit={titleEdit || 'Редактировать'}\n\t\t\t\t\ttype={objectModal.modalType}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tinitialValues={objectModal.initialValues\n\t\t\t\t\t\t? updateShape(objectModal.initialValues)\n\t\t\t\t\t\t: initialModal || {}\n\t\t\t\t\t}\n\t\t\t\t\trenderField={renderField}\n\t\t\t\t/>);\n\n\n\t\tif (isView && isModalOpen === modelName && !createDisabled)\n\t\t\treturn (\n\t\t\t\t<CreateModelView\n\t\t\t\t\ttitle={title || 'Создать'}\n\t\t\t\t\ttitleEdit={titleEdit || 'Редактировать'}\n\t\t\t\t\ttype={objectModal.modalType}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\tonCreate={objectModal.modalType === 'edit' ? this.handleUpdate : this.handleCreate}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tinitialValues={objectModal.initialValues\n\t\t\t\t\t\t? updateShape(objectModal.initialValues)\n\t\t\t\t\t\t: initialModal || {}\n\t\t\t\t\t}\n\t\t\t\t\trenderField={renderField}\n\t\t\t\t/>);\n\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{!createDisabled ?\n\t\t\t\t\t(\n\t\t\t\t\t\t<Btn\n\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\tname=\"createButton\"\n\t\t\t\t\t\t\tonClick={() => this.toggleModal(modelName)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...btnStyle,\n\t\t\t\t\t\t\t\tmarginBottom: '20px'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{createButtonTitle}\n\t\t\t\t\t\t</Btn>)\n\t\t\t\t\t: null}\n\t\t\t\t<CustomButtons />\n\t\t\t\t<CrudView\n\t\t\t\t\tmodelName={modelName}\n\t\t\t\t\turl={crudRead}\n\t\t\t\t\ttableStyle={tableStyle}\n\t\t\t\t\tTableWrapper={tableWrapper}\n\t\t\t\t\tfixActionColumn={fixActionColumn}\n\t\t\t\t\ticonTheme={iconTheme}\n\t\t\t\t\tgetChildrenUrl={getChildrenUrl}\n\t\t\t\t\tsize={size}\n\t\t\t\t\ttdClass={tdClass}\n\t\t\t\t\tscrollX={scrollX}\n\t\t\t\t\trowSelection={rowSelection}\n\t\t\t\t\tbordered={bordered}\n\t\t\t\t/>\n\t\t\t\t{isModalOpen === modelName && !createDisabled\n\t\t\t\t\t? (\n\t\t\t\t\t\t<CreateModel\n\t\t\t\t\t\t\ttitle={title || 'Создать'}\n\t\t\t\t\t\t\ttitleEdit={titleEdit || 'Редактировать'}\n\t\t\t\t\t\t\tmodalType={objectModal.modalType}\n\t\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t\t\tonCreate={objectModal.modalType === 'edit'\n\t\t\t\t\t\t\t\t? this.handleUpdate\n\t\t\t\t\t\t\t\t: this.handleCreate}\n\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\tinitialValues={objectModal.initialValues\n\t\t\t\t\t\t\t\t? updateShape(objectModal.initialValues)\n\t\t\t\t\t\t\t\t: initialModal || {}}\n\t\t\t\t\t\t\trenderField={renderField}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : ''\n\t\t\t\t}\n\t\t\t</div>)\n\t}\n}\n\nCrudFull.propTypes = {\n\tcrudCreate: PropTypes.string,\n\tcrudRead: PropTypes.string.isRequired,\n\tmodelName: PropTypes.string.isRequired,\n\tcustomActionsFunc: PropTypes.func,\n\tcreateButtonTitle: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.node]),\n\tcreateFormOptions: PropTypes.shape({ fields: PropTypes.array.isRequired }),\n\tsubmitShape: PropTypes.func,\n\tupdateShape: PropTypes.func,\n\tgetChildrenUrl: PropTypes.func,\n\tcreateDisabled: PropTypes.bool,\n\tisView: PropTypes.bool,\n\tbtnStyle: PropTypes.object,\n\tButtonComponent: PropTypes.object,\n\ttableStyle: PropTypes.object,\n\ttableWrapper: PropTypes.oneOfType([PropTypes.object, PropTypes.node]),\n\tfixActionColumn: PropTypes.bool,\n\ticonTheme: PropTypes.string,\n\tsize: PropTypes.string,\n\ttdClass: PropTypes.string,\n\tinitialModal: PropTypes.object,\n\ticonsProvider: PropTypes.func,\n\tscrollX: PropTypes.number,\n\tonDeleteConfirmMessageFunc: PropTypes.func,\n\trenderField: PropTypes.func,\n\tsetCrudActionsFunc: PropTypes.func,\n\trowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object\n\t]),\n\tCustomButtons: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object\n\t]),\n\tuploadFilesSettings: PropTypes.string,\n\tbordered: PropTypes.bool,\n};\n\nCrudFull.defaultProps = {\n\tcreateButtonTitle: 'Добавить',\n\tsubmitShape: form => form,\n\tupdateShape: elem => elem,\n\tcreateDisabled: true,\n\tbtnStyle: {},\n\ttableStyle: {},\n\ttableWrapper: null,\n\ticonTheme: 'outline',\n\tsize: 'default',\n\ticonsProvider: () => '',\n\tCustomButtons: () => null,\n\trowSelection: null,\n\tonDeleteConfirmMessageFunc: elem => `Хотите удалить \"${elem.name}\" (ID: ${elem.id})?`,\n\tuploadFilesSettings: null\n};\n\nexport default connect(state => ({\n\tobjectModal: state.modelModalForm,\n\tisModalOpen: state.isOpenModelModal,\n}), {\n\ttoggleCreateModelModal,\n\tdeleteModel,\n\trestoreModel,\n\tcreateModel,\n\tchangeModel,\n\tsetModelModalForm,\n\tsetCrudActionsFunc,\n\tsetCrudParams\n})(CrudFull)\n","export const SUCCESS_REQ = 0\nexport const SORT_DESC = 'SORT_DESC'\nexport const SORT_ASC = 'SORT_ASC'\nexport const START = '_START'\nexport const SUCCESS = '_SUCCESS'\nexport const ERROR = '_ERROR'\nexport const FAIL = 'FAIL'\n","import actions from './actions'\nimport { ERROR, SORT_DESC, SUCCESS, START } from '../constants';\n// import fitureResp from './respFixture'\n\nexport const crudModelsReducer = (state = {}, action) => {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.FETCH_CRUD_MODELS + SUCCESS:\n\t\treturn { ...state, [payload.params.modelName]: response };\n\tcase actions.FETCH_CRUD_MODELS + ERROR:\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.params.modelName]: {\n\t\t\t\t...state[payload.params.modelName],\n\t\t\t\tloading: false,\n\t\t\t\terror\n\t\t\t}\n\t\t};\n\tcase actions.FETCH_CRUD_MODELS + START:\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.params.modelName]: {\n\t\t\t\t...state[payload.params.modelName],\n\t\t\t\tloading: true\n\t\t\t}\n\t\t};\n\tcase actions.FETCH_CRUD_CHILDREN + SUCCESS:\n\t\tconst model = state[payload.params.modelName];\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.params.modelName]: {\n\t\t\t\t...model,\n\t\t\t\tdata: {\n\t\t\t\t\t...model.data,\n\t\t\t\t\titems: model.data.items.map(elem => elem.id === payload.id ? {\n\t\t\t\t\t\t...elem,\n\t\t\t\t\t\tchildren: response.data.items\n\t\t\t\t\t} : elem)\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport const crudFilterValuesReducer = (state = {}, action) => {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.FETCH_CRUD_FILTER_VALUES + SUCCESS:\n\t\treturn {\n\t\t\t...state,\n\t\t\tloading: false,\n\t\t\t[payload.modelName]: {\n\t\t\t\t...state[payload.modelName],\n\t\t\t\t[payload.filter]: response.data,\n\t\t\t}\n\t\t};\n\tcase actions.FETCH_CRUD_FILTER_VALUES + ERROR:\n\t\treturn {\n\t\t\t...state, loading: false, error\n\t\t};\n\tcase actions.FETCH_CRUD_FILTER_VALUES + START:\n\t\treturn { ...state, loading: true };\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport const crudActionsFuncReducer = (state = null, action) => {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.SET_CRUD_ACTIONS_FUNC:\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.modelName]: payload.func\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n};\n\n\nexport const isOpenModelModalReducer = (state = false, action) => {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.TOGGLE_CREATE_MODEL_MODAL:\n\t\treturn state ? null : payload.modelName;\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport const modelModalFormReducer = (state = {}, action) => {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.SET_MODEL_MODAL_FORM:\n\t\treturn payload;\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport const crudParamsReducer = (state = {}, action) => {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.SET_CRUD_PARAMS:\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.modelName]: payload\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport const crudCreateModalLoadingReducer = (state = false, action) => {\n\n\tswitch (action.type) {\n\tcase actions.CREATE_MODEL + START:\n\tcase actions.CHANGE_MODEL + START:\n\t\treturn true;\n\tcase actions.CREATE_MODEL + SUCCESS:\n\tcase actions.CHANGE_MODEL + SUCCESS:\n\tcase actions.CREATE_MODEL + ERROR:\n\tcase actions.CHANGE_MODEL + ERROR:\n\t\treturn false;\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport const uploaderFilesReducer = (state = {}, action) => {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\tcase actions.SET_UPLOADER_FILES:\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.modelName]: { ...state[payload.modelName], fileList: payload.files }\n\t\t};\n\tcase actions.SET_UPLOADER_DEFAULT_FILE_LIST:\n\t\treturn {\n\t\t\t...state,\n\t\t\t[payload.modelName]: { ...state[payload.modelName], defaultFileList: payload.defaultFileList }\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n};\n\nexport function fetchFileConfigReducer(state = {}, action) {\n\tconst { type, response, error, payload } = action;\n\n\tswitch (type) {\n\tcase actions.FETCH_FILE_CONFIG + SUCCESS:\n\t\treturn { ...state, [payload.modelName]: response };\n\tcase actions.FETCH_FILE_CONFIG + ERROR:\n\t\treturn { error };\n\tdefault:\n\t\treturn state;\n\t}\n}\n\nexport default {\n\tcrudFilterValues: crudFilterValuesReducer,\n\tcrudModels: crudModelsReducer,\n\tcrudActionsFunc: crudActionsFuncReducer,\n\tisOpenModelModal: isOpenModelModalReducer,\n\tmodelModalForm: modelModalFormReducer,\n\tcrudParams: crudParamsReducer,\n\tcrudCreateModalLoading: crudCreateModalLoadingReducer,\n\tuploaderFiles: uploaderFilesReducer,\n\tfileConfig: fetchFileConfigReducer\n}\n","import { notification } from 'antd';\n\nconst createNotification = (type, message, description) => {\n\tnotification[type]({\n\t\tmessage,\n\t\tdescription,\n\t});\n};\nexport default createNotification;\n","export default function reduceMessages(messages, parseNameFunc = name => name) {\n\treturn messages.reduce((acc, elem) => {\n\t\tif (elem.targetField) acc[parseNameFunc(elem.targetField)] = elem.message;\n\t\treturn acc;\n\t}, {});\n}\n","import moment from 'moment'\nimport { stopSubmit } from 'redux-form';\nimport { all, fork, put, select, takeEvery, call } from 'redux-saga/effects';\nimport requestMiddleware, { request } from 'sm-redux-saga-request'\nimport { buildUrlSearch, buildUrlSearchForArray } from 'sm-string-helper'\nimport {ERROR, SORT_ASC, SORT_DESC, START, SUCCESS, SUCCESS_REQ} from '../constants';\nimport notification from '../notification';\nimport actions from './actions';\nimport regeneratorRuntime from 'regenerator-runtime'\nimport reduceMessages from '../helpers/reduceMessages';\n\nexport const selectCrudParams = state => state.crudParams;\n\nexport function* notifySaga(action) {\n\tif (action.error) yield notification('error', action.error.message)\n\tif (action.response.status === SUCCESS_REQ) yield notification('success', action.response.message)\n}\n\nfunction isDateColumn(columns, key) {\n\treturn !!columns.find(e => e.type === 'date' && e.id === key);\n}\n\nfunction getFiltersValues(filters, columns) {\n\n\tconst res = Object.keys(filters).reduce((acc, key) => ({\n\t\t...acc,\n\t\t[key]: isDateColumn(columns, key) ? (filters[key] instanceof Array || null) ? null : moment(filters[key]).unix()\n\t\t\t: filters[key].constructor !== Array ? filters[key]\n\t\t\t\t: null\n\t}), {});\n\t// buildUrlSearchForArray(filters[key], key)\n\n\treturn res;\n}\n\nexport const selectColumns = modelName => state => state.crudModels[modelName];\n\nexport function* fetchCrudModelsSaga(action) {\n\tconst { payload } = action;\n\tconst {\n\t\torder, order_by, page, modelName, url: passedUrl\n\t} = payload.params || {};\n\tconst crudParams = yield select(selectCrudParams);\n\n\tconst url = passedUrl || crudParams[modelName].crudRead;\n\n\tconst model = yield select(selectColumns(modelName));\n\n\tconst columns = model && model.data ? model.data.columns : [];\n\tconst filters = yield getFiltersValues(payload.filters || {}, columns);\n\n\tconst params = payload ? buildUrlSearch({\n\t\t...filters,\n\t\torder: !order ? null : order === 'ascend' ? SORT_ASC : SORT_DESC,\n\t\torder_by,\n\t\tpage\n\n\t}) : '';\n\n\tconst paramsArr = [params];\n\n\tif (payload.filters) Object.keys(payload.filters).forEach((key) => {\n\t\tif (payload.filters[key] && payload.filters[key].constructor === Array) {\n\t\t\tparamsArr.push(buildUrlSearchForArray(payload.filters[key], key))\n\t\t}\n\t});\n\n\tconst paramsStr = paramsArr.reduce((acc, e, i) => {\n\t\tconst start = i && !acc && e ? '?' : '';\n\t\tconst delimiter = (acc && e ? '&' : '');\n\n\t\treturn acc + start + delimiter + e\n\t}, '');\n\n\tyield put(request({\n\t\t...action,\n\t\tmethod: 'GET',\n\t\tauth: true,\n\t\turl: `${url}${paramsStr}`\n\t}))\n}\n\nexport function* fetchCrudModelsSuccessSaga(action) {\n\tconst { response, payload } = action;\n\tif (!response.data) return;\n\n\tconst { columns } = response.data;\n\tfor (let i = 0; i < columns.length; i++) {\n\t\tconst column = columns[i];\n\t\tif (column.filter.can && column.filter.query) {\n\t\t\tyield put(actions.fetchCrudFilterValues(payload.params.modelName, column.id, column.filter.query))\n\t\t}\n\t}\n}\n\nexport function* fetchCrudFilterValuesSaga(action) {\n\tyield put(request({\n\t\t...action,\n\t\tmethod: 'GET',\n\t\tauth: true,\n\t\turl: `${action.payload.query}`\n\t}))\n}\n\n/*\n\t Actions Handling\n */\nfunction* filesUpload(modelName, filesStore) {\n\tconst params = yield select(selectCrudParams);\n\tconst { uploadFilesSettings } = params[modelName];\n\tconst result = [];\n\n\tif (!uploadFilesSettings) return result;\n\n\tconst modelFiles = filesStore && filesStore[modelName] ? filesStore[modelName].fileList : null;\n\n\tif (!modelFiles) return result;\n\n\tlet i = 0;\n\n\twhile (i < modelFiles.length) {\n\t\tif (!modelFiles[i].old) {\n\t\t\tconst formData = new FormData();\n\n\t\t\tformData.append('file', modelFiles[i]);\n\n\t\t\tconst filesResp = yield call(fetch, uploadFilesSettings.url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { Authorization: 'Bearer ' + uploadFilesSettings.token },\n\t\t\t\tmode: 'cors',\n\t\t\t\tbody: formData\n\t\t\t});\n\n\t\t\tconst res = yield filesResp.json();\n\t\t\tconsole.log(res);\n\n\t\t\tif (filesResp.status !== 200) {\n\t\t\t\tyield notifySaga({ error: { message: 'Ошибка при загрузке файла' }, response: {} });\n\t\t\t\tconsole.log(res)\n\t\t\t}\n\n\t\t\tresult.push(res.response);\n\t\t} else {\n\t\t\tresult.push(modelFiles[i])\n\t\t}\n\n\t\ti++;\n\t}\n\n\treturn result;\n}\n\nexport function* getHandledFiles(modelName) {\n\tconst filesStore = yield select(state => state.uploaderFiles);\n\tconst files = yield filesUpload(modelName, filesStore);\n\n\treturn files.map(f => ({ ...f, id: f.id || f.uid }))\n}\n\nexport function* createModelSaga(action) {\n\tconst params = yield select(selectCrudParams);\n\tconst { modelName } = action.payload;\n\tconst { submitShape } = params[modelName];\n\n\tyield put({\n\t\t...action,\n\t\ttype: action.type + START\n\t});\n\n\tconst uploadedFiles = yield getHandledFiles(modelName);\n\n\tconst form = submitShape(action.payload.form, uploadedFiles);\n\n\tyield put(request({\n\t\t...action,\n\t\tmethod: 'POST',\n\t\tauth: true,\n\t\turl: `${action.payload.url}`,\n\t\tpayload: { ...form },\n\t\tmodelName\n\t}))\n}\n\nexport function* updateModelsSaga(action) {\n\tconst params = yield select(selectCrudParams);\n\tconst {\n\t\tmodelName, crudRead, filters, page, order, order_by\n\t} = params[action.modelName || action.payload.modelName];\n\n\tyield put(actions.fetchCrudModels({\n\t\tmodelName,\n\t\turl: crudRead,\n\t\tpage,\n\t\torder_by,\n\t\torder\n\t}, filters));\n}\n\nexport function* deleteModelSaga(action) {\n\tyield put(request({\n\t\t...action,\n\t\tmethod: action.payload.action.method, //'POST',\n\t\tauth: true,\n\t\turl: `${action.payload.action.url}`,\n\t\tpayload: action.payload,\n\t\tmodelName: action.payload.modelName\n\t}))\n}\n\nexport function* restoreModelSaga(action) {\n\tyield put(request({\n\t\t...action,\n\t\tmethod: 'POST',\n\t\tauth: true,\n\t\turl: `${action.payload.url}`,\n\t\tpayload: action.payload\n\t}))\n}\n\nexport function* changeModelSaga(action) {\n\tconst params = yield select(selectCrudParams);\n\n\tyield put({\n\t\t...action,\n\t\ttype: action.type + START\n\t});\n\n\tconst uploadedFiles = yield getHandledFiles(action.payload.modelName);\n\n\tyield put(request({\n\t\t...action,\n\t\tmethod: action.payload.action.method, //'POST',\n\t\tauth: true,\n\t\turl: `${action.payload.action.url}`,\n\t\tpayload: params[action.payload.modelName].submitShape(action.payload.form, uploadedFiles),\n\t\tmodelName: action.payload.modelName\n\t}));\n}\n\nexport function* fetchCrudChildrenSaga(action) {\n\tyield put(request({\n\t\t...action,\n\t\tmethod: 'GET',\n\t\tauth: true,\n\t\turl: `${action.payload.url}`,\n\t\tpayload: action.payload\n\t}))\n}\n\nexport function* closeModalSaga() {\n\tyield put(actions.toggleCreateModelModal());\n\tyield put(actions.setModelModalForm(null, null));\n}\n\nexport function* submitModelsModalFormFailSaga(action) {\n\tconst errors = reduceMessages(action.messages);\n\tyield put(stopSubmit('createModel', errors));\n\tyield notification('error', action.error.message);\n}\n\nexport function* fetchFileConfigSaga(action) {\n\tyield put(request({\n\t\t...action,\n\t\tmethod: 'GET',\n\t\tauth: true,\n\t\turl: action.payload.url\n\t}))\n}\n\nexport default function* rootSaga() {\n\tyield all([\n\t\ttakeEvery(actions.FETCH_CRUD_MODELS, fetchCrudModelsSaga),\n\t\ttakeEvery(actions.FETCH_CRUD_MODELS + SUCCESS, fetchCrudModelsSuccessSaga),\n\t\ttakeEvery(actions.FETCH_CRUD_FILTER_VALUES, fetchCrudFilterValuesSaga),\n\n\t\ttakeEvery(actions.FETCH_CRUD_CHILDREN, fetchCrudChildrenSaga),\n\n\t\ttakeEvery(actions.CREATE_MODEL, createModelSaga),\n\t\ttakeEvery(actions.CREATE_MODEL + SUCCESS, closeModalSaga),\n\t\ttakeEvery(actions.CREATE_MODEL + SUCCESS, updateModelsSaga),\n\t\ttakeEvery(actions.CREATE_MODEL + SUCCESS, notifySaga),\n\t\ttakeEvery(actions.CREATE_MODEL + ERROR, submitModelsModalFormFailSaga),\n\n\t\ttakeEvery(actions.DELETE_MODEL, deleteModelSaga),\n\t\ttakeEvery(actions.DELETE_MODEL + SUCCESS, updateModelsSaga),\n\t\ttakeEvery(actions.DELETE_MODEL + SUCCESS, notifySaga),\n\t\ttakeEvery(actions.DELETE_MODEL + ERROR, notifySaga),\n\n\t\ttakeEvery(actions.RESTORE_MODEL, restoreModelSaga),\n\t\ttakeEvery(actions.RESTORE_MODEL + SUCCESS, updateModelsSaga),\n\t\ttakeEvery(actions.RESTORE_MODEL + SUCCESS, notifySaga),\n\t\ttakeEvery(actions.RESTORE_MODEL + ERROR, notifySaga),\n\n\t\ttakeEvery(actions.CHANGE_MODEL, changeModelSaga),\n\t\ttakeEvery(actions.CHANGE_MODEL + SUCCESS, closeModalSaga),\n\t\ttakeEvery(actions.CHANGE_MODEL + SUCCESS, updateModelsSaga),\n\t\ttakeEvery(actions.CHANGE_MODEL + SUCCESS, notifySaga),\n\t\ttakeEvery(actions.CHANGE_MODEL + ERROR, submitModelsModalFormFailSaga),\n\n\t\ttakeEvery(actions.FETCH_FILE_CONFIG, fetchFileConfigSaga),\n\n\t\tfork(requestMiddleware)\n\n\t]);\n}\n","import { all, call, put, takeEvery, select } from 'redux-saga/effects'\nimport { FAIL, START, SUCCESS } from '../constants'\nimport regeneratorRuntime from 'regenerator-runtime'\n\nexport function getCookie(name) {\n\tconst matches = document.cookie.match(new RegExp(\n\t\t'(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\n\t))\n\n\treturn matches ? decodeURIComponent(matches[1]) : undefined\n}\n\nexport const getError = (data, response) => {\n\tif (data.status === 0) return {\n\t\tmessage: 'Unknow error: check your authorization. '\n\t\t\t+ 'No \\'Access-Control-Allow-Origin\\' header is present on the requested resource.'\n\t};\n\tif (data.status === 500) return response;\n\tif (response.messages) return response.messages[0];\n\n\treturn ''\n};\n\n\nexport function* requestSaga(action) {\n\tconst {\n\t\tpayload, method, url, auth, oldType: type, token_is_active\n\t} = action;\n\n\tconst SITE = yield select(state => state.X);\n\n\tconst token = getCookie('auth_token')\n\n\ttry {\n\t\tyield put({\n\t\t\t...action,\n\t\t\ttype: type + START\n\t\t});\n\n\t\tconst body = payload ? JSON.stringify(payload) : '';\n\t\tconst headers = new Headers({'Content-Type': 'application/json'});\n\t\tif (auth) headers.set('Authorization', 'Bearer ' + token);\n\n\t\tconst params = {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tmode: 'cors'\n\t\t};\n\n\t\tif (body && method !== 'GET') params.body = body;\n\n\t\tconst data = yield call(\n\t\t\tfetch,\n\t\t\tSITE + url,\n\t\t\tparams\n\t\t);\n\n\t\tconst response = yield data.json();\n\t\tif (data.status !== 200) {\n\t\t\tconst error = getError(data, response);\n\n\t\t\tyield put({\n\t\t\t\t...action,\n\t\t\t\ttype: type + FAIL,\n\t\t\t\terror\n\t\t\t})\n\t\t} else {\n\t\t\tyield put({\n\t\t\t\t...action,\n\t\t\t\ttype: type + SUCCESS,\n\t\t\t\tresponse: {\n\t\t\t\t\tdata: response.response,\n\t\t\t\t\terror: response.status === 100 || response.messages[0].type === 2\n\t\t\t\t\t\t? response.messages[0].message\n\t\t\t\t\t\t: null,\n\t\t\t\t\tstatus: response.status,\n\t\t\t\t\tmessage: response.status === 0 || response.messages[0].type === 0\n\t\t\t\t\t\t? response.messages[0].message\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} catch (err) {\n\t\tconsole.log(err)\n\t}\n}\n\nexport function* requests() {\n\tyield all([\n\t\ttakeEvery('REQUEST', requestSaga),\n\t]);\n}\n","import React from 'react';\nimport crudFull from './components/crud/crudFull'\nimport crudView from './components/crud/crudView'\nimport crudActions from './redux/actions'\nimport crudReducers from './redux/reducer'\nimport crudUploader from './components/crud/uploader'\nimport crudSagas, { updateModelsSaga } from './redux/saga'\nimport { requests } from './redux/requestSaga'\nimport './style.css'\nimport regeneratorRuntime from 'regenerator-runtime'\n\nexport const reducer = crudReducers;\nexport const saga = crudSagas;\nexport const updateModel = updateModelsSaga;\nexport const requestSaga = requests;\nexport const actions = crudActions;\nexport const CrudView = crudView;\nexport const CrudFull = crudFull;\nexport const CrudUploader = crudUploader;\n"],"sourceRoot":""}